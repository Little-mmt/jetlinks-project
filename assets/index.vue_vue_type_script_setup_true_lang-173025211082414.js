import{$ as b,Z as j,ah as S,ai as $}from"./index-1730252110824.js";import"./index-1730252110824284.js";import{u as g}from"./instance-1730252110824.js";import{_ as N}from"./Save.vue_vue_type_script_setup_true_lang-17302521108242.js";import{d as V,k as _,s as h,ab as d,U as r,Z as f,f as o,X as t,E as l,F as P,a1 as w,u as m,V as v,$ as k,Y as A}from"./vue-1730252110824.js";const D={style:{"margin-top":"20px"}},Q=V({__name:"index",setup(F){const s=g(),i=_([]),a=_(!1);h(()=>{var n;const c=(((n=s.current)==null?void 0:n.relations)||[]).reverse();i.value=c});const y=()=>{a.value=!1,s.current.id&&s.refresh(s.current.id)};return(c,n)=>{const p=d("AIcon"),C=b,x=j,u=d("Ellipsis"),B=S,E=$;return r(),f("div",D,[o(E,{bordered:""},{title:t(()=>[l(" 关系信息 "),o(x,{type:"link",onClick:n[0]||(n[0]=e=>a.value=!0),hasPermission:"device/Instance:update"},{default:t(()=>[o(p,{type:"EditOutlined"}),l("编辑"),o(C,{title:"管理设备与其他业务的关联关系，关系来源于关系配置"},{default:t(()=>[o(p,{type:"QuestionCircleOutlined"})]),_:1})]),_:1})]),default:t(()=>[(r(!0),f(P,null,w(m(i),e=>(r(),v(B,{span:1,key:e.objectId},{label:t(()=>[o(u,null,{default:t(()=>[l(k(e.relationName),1)]),_:2},1024)]),default:t(()=>[o(u,null,{default:t(()=>[l(k(e!=null&&e.related?((e==null?void 0:e.related)||[]).map(I=>I.name).join(","):""),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),m(a)?(r(),v(N,{key:0,onSave:y,onClose:n[1]||(n[1]=e=>a.value=!1)})):A("",!0)])}}});export{Q as _};
