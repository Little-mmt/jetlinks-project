import{F as d}from"./index-1730252110824.js";import{c as f}from"./scene-1730252110824.js";import{u as h}from"./scene-17302521108242.js";import{ai as b,p as v,R as N,d as y}from"./vue-1730252110824.js";import{C}from"./util-1730252110824.js";import"./config-17302521108242.js";import"./util-17302521108242.js";import"./util-17302521108243.js";const I=y({name:"CheckFilterItem"}),_=Object.assign(I,{props:{name:{type:Number,default:0},termsName:{type:Number,default:0},actionName:{type:Number,default:0},thenName:{type:Number,default:0},branchName:{type:Number,default:0},value:{type:Object,default:()=>({})}},setup(c,{expose:u}){const e=c,l=d.useInjectFormItemContext(),i=h(),{data:n}=b(i),t=()=>{l.onFieldChange()};return(async()=>{var a,o,s;if((o=(a=e.value)==null?void 0:a.terms)!=null&&o.length){const r=e.value.terms[1],m=n.value.id,p=n.value.branches[e.branchName].then[e.thenName].actions[e.actionName].actionId||n.value.branches[e.branchName].branchId;r!=null&&r.value.value&&(s=(await f({terms:[{column:"id",termType:"eq",value:r.value.value,type:"and"},{terms:[{column:"id$rule-bind-alarm",value:`${m}:${p}`},{column:"id$rule-bind-alarm",value:`${m}:-1`,type:"or"}],type:"and"}]})).result)!=null&&s.length||t()}})(),v(C,{onFieldChange:t}),u({formTouchOff:t}),(a,o)=>N(a.$slots,"default")}}),T=_;export{T as default};
