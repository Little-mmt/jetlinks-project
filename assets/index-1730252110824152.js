import{au as q,Z as A,e as L,a3 as P}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import{c as R}from"./auto-1730252110824.js";import Y from"./logView-1730252110824.js";import{u as g}from"./index-1730252110824307.js";import{ac as E,k as s,c as J,w as O,t as U,ab as k,u as a,U as r,Z as v,f as i,X as n,E as h,$ as b,F as $,a1 as F,V as I,Y as x,d as H}from"./vue-1730252110824.js";import"./index-1730252110824299.js";import"./index-1730252110824300.js";import"./vue-json-viewer-1730252110824.js";const M={key:0},Z=H({name:"Log"}),ce=Object.assign(Z,{setup(z){const C=E(),u=s(),T=s(),l=s(!1),p=s({}),c=g("q"),d=g("target"),f=s(!1),_=[{title:"时间",dataIndex:"createTime",key:"createTime",scopedSlots:!0,search:{type:"date"}},{title:"通道ID",dataIndex:"channelId",key:"channelId",ellipsis:!0,search:{type:"string"}},{title:"通道名称",dataIndex:"channelName",key:"channelName",ellipsis:!0,search:{type:"string",first:!0}},{title:"设备ID",dataIndex:"deviceId",key:"deviceId",ellipsis:!0,search:{type:"string",first:!0}},{title:"设备名称",dataIndex:"deviceName",ellipsis:!0,key:"deviceName",search:{type:"string"}},{title:"执行状态",dataIndex:"state",key:"state",scopedSlots:!0,width:100,search:{type:"select",options:[{label:"正常",value:"success"},{label:"失败",value:"fail"}]}},{title:"操作",key:"action",width:100,scopedSlots:!0}],y=J("video-tags"),N=o=>{u.value=o},S=o=>o?[{key:"view",text:"查看",tooltip:{title:"查看"},icon:"EyeOutlined",onClick:()=>{l.value=!0,p.value=o}}]:[];return O(()=>c.value,()=>{d.value="AutoVideoPlanLog",c.value=encodeURI(JSON.stringify({terms:[{terms:y.terms}]})),setTimeout(()=>{f.value=!0},0)},{immediate:!0,deep:!0}),U(()=>{y.terms=[],c.value=null,d.value=null}),(o,m)=>{const V=k("pro-search"),w=k("AIcon"),B=A,D=L,j=P;return a(f)?(r(),v("div",M,[i(V,{columns:_,style:{"margin-bottom":"0"},target:"AutoVideoPlanLog",onSearch:N}),i(j,{ref_key:"tableRef",ref:T,columns:_,params:a(u),model:"table",request:t=>a(R)(a(C).params.id,t)},{createTime:n(t=>[h(b(a(q)(t.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]),state:n(t=>{var e;return[h(b((e=t.state)==null?void 0:e.text),1)]}),action:n(t=>[i(D,{size:16},{default:n(()=>[(r(!0),v($,null,F(S(t,"table"),e=>(r(),I(B,{key:e.key,disabled:e.disabled,popConfirm:e.popConfirm,type:"link",tooltip:{...e.tooltip},onClick:e.onClick},{default:n(()=>[i(w,{type:e.icon},null,8,["type"])]),_:2},1032,["disabled","popConfirm","tooltip","onClick"]))),128))]),_:2},1024)]),_:1},8,["params","request"]),a(l)?(r(),I(Y,{key:0,data:a(p),onClose:m[0]||(m[0]=t=>l.value=!1)},null,8,["data"])):x("",!0)])):x("",!0)}}});export{ce as default};
