import{a5 as y,g as m}from"./index-1730252110824.js";import{d as w,k as v,e as $,w as k,U as h,Z as _,_ as S,a4 as g,u as f,F as A,a1 as O,$ as b}from"./vue-1730252110824.js";const d={1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六",7:"星期日"},x={seconds:"秒",minutes:"分",hours:"小时"},V=(e,l)=>{let n=0;const a=[],s=l==="week";return y(e)&&e.forEach((c,p)=>{const t=Number(c),o=e[p+1],r=e[p-1],i=t+1,u=t-1;i===o&&u!==r?n=t:u===r&&i!==o?t-n>=2?a.push(s?`${d[n]} - ${d[t]}`:`${n} - ${t}号`):(a.push(s?d[n]:`${n}号`),a.push(s?d[t]:`${t}号`)):u!==r&&i!==o&&a.push(s?d[t]:`${t}号`)}),a},z=e=>{var s;let l="每天",n,a;if(e.trigger==="cron")return n=e.cron,{time:n};if((s=e.when)!=null&&s.length){l=e.trigger==="week"?"每周":"每月";const p=V(e.when||[],e.trigger).splice(0,3);l+=p.join("、"),l+=`...等${e.when.length}天`}if(e.once?n=e.once.time+" 执行1次":e.period&&(n=e.period.from+"-"+e.period.to,a=`每${e.period.every}${x[e.period.unit]}执行1次`),e.trigger==="multi"){const c=e.multi.spec.length;l="",a=`自定义日历 共${c}个规则`}return{when:l,time:n,extraTime:a}},W={class:"timer-when-warp"},C=["onClick"],T=w({name:"WhenOption"}),j=w({...T,props:{value:{type:Array,default:[]},type:{type:String,default:""}},emits:["update:value","change"],setup(e,{emit:l}){const n=e,a=v([]),s=v(n.value),c=t=>{const o=new Set(s.value);t===0?o.clear():o.has(t)?o.delete(t):o.add(t),s.value=[...o.values()].sort((r,i)=>r-i),l("update:value",s.value),l("change",s.value)},p=$(()=>!s.value.length);return k(()=>n.type,()=>{const t=n.type==="month",o=t?31:7;n.value.length||c(0),a.value=new Array(o).fill(1).map((r,i)=>{const u=i+1;return{label:t?`${u}号`:d[u],value:u}})},{immediate:!0}),(t,o)=>(h(),_("div",W,[S("div",{class:g(["when-item-option",f(p)?"active":""]),onClick:o[0]||(o[0]=()=>c(0))},"每天",2),(h(!0),_(A,null,O(f(a),r=>(h(),_("div",{class:g(["when-item-option",f(s).includes(r.value)?"active":""]),onClick:()=>c(r.value)},b(r.label),11,C))),256))]))}});const B=m(j,[["__scopeId","data-v-5d82b4fc"]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{B as W,F as a,z as h};
