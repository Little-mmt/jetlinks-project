import{g as f,X as I,au as x,a3 as S}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import{e as k}from"./log-17302521108243.js";import{u as T}from"./instance-1730252110824.js";import{u as N}from"./product-17302521108245.js";import{k as D,ab as i,U as E,Z as P,f as o,u as e,X as r,E as d,$ as l,_ as b,F as q}from"./vue-1730252110824.js";import"./product-17302521108244.js";import"./encodeQuery-1730252110824.js";const B=["onClick"],C={__name:"index",props:{goal:{type:String,default:"device"}},setup(m){const s=m,p=I(),{current:u}=s.goal==="device"?T():N(),n=s.goal==="device"?[{title:"上报时间",dataIndex:"createTime",key:"createTime",scopedSlots:!0,search:{type:"date"},scopedSlots:!0},{title:"阈值限制",dataIndex:"description",key:"description"},{title:"原始值",dataIndex:"value",key:"value",search:{type:"string"}}]:[{title:"上报时间",dataIndex:"createTime",key:"createTime",scopedSlots:!0,search:{type:"date"},scopedSlots:!0},{title:"数据源",dataIndex:"thingName",key:"thingName",scopedSlots:!0,search:{type:"string"}},{title:"阈值限制",dataIndex:"description",key:"description"},{title:"原始值",dataIndex:"value",key:"value",search:{type:"string"}}],_=t=>{p.jumpPage("device/Instance/Detail",{id:t,tab:"Running"})},g=t=>{c.value=t},c=D();return(t,Y)=>{const v=i("pro-search"),y=i("Ellipsis"),h=S;return E(),P(q,null,[o(v,{columns:e(n),target:"device-instance",onSearch:g},null,8,["columns"]),o(h,{ref:"deviceAlarm",columns:e(n),model:"TABLE",request:e(k),defaultParams:{sorts:[{name:"createTime",order:"desc"}],terms:[{terms:[{column:s.goal==="device"?"thingId":"templateId",value:e(u).id,termType:"eq"}],type:"and"}]},params:e(c)},{createTime:r(a=>[d(l(e(x)(a.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]),thingName:r(a=>[o(y,null,{default:r(()=>[d(" 设备名称： "),b("span",{class:"deviceId",onClick:()=>_(a.thingId)},l(a.thingName),9,B)]),_:2},1024)]),_:1},8,["columns","request","defaultParams","params"])],64)}}},$=f(C,[["__scopeId","data-v-cce2d419"]]);export{$ as default};
