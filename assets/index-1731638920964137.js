import{d as x,ac as V,k as h,o as M,U as r,Z as l,u as t,f as e,X as a,_ as i,V as N,E as R,Y as w,$ as y,af as T,ag as q}from"./vue-1731638920964.js";import{o as F,aH as O,I as A,v as E,a9 as J,Z as L,F as Z,a0 as $,a1 as D,g as G}from"./index-1731638920964.js";import H from"./GB28181-1731638920964.js";import X from"./Onvif-1731638920964.js";import Y from"./index-1731638920964139.js";import{s as z,u as K}from"./accessConfig-1731638920964.js";import"./index-1731638920964284.js";import"./index-1731638920964306.js";import"./index-1731638920964276.js";import"./index-1731638920964279.js";import"./index-1731638920964286.js";import"./validate-1731638920964.js";import"./regular-1731638920964.js";import"./index-1731638920964133.js";import"./index-1731638920964288.js";import"./rules-1731638920964.js";const k=o=>(T("data-v-7acc07f4"),o=o(),q(),o),Q={class:"container"},W={key:0,class:"card-last"},ee={class:"doc"},te=k(()=>i("h1",null,"接入方式",-1)),oe=k(()=>i("h1",null,"消息协议",-1)),ae={key:1},ne={key:2},se={key:3},ie=x({name:"AccessMedia"}),de=x({...ie,props:{provider:{type:Object,default:()=>{}},data:{type:Object,default:()=>{}},bindProduct:{type:Boolean,default:!1}},setup(o){const n=o,_=V(),P=_.query.view,u=_.params.id,f=h(!1),p=h(n.provider.channel),d=h({name:"",description:""}),S=async c=>{f.value=!0;const s={...c,provider:"fixed-media",transport:"URL",channel:"fixed-media"},m=u===":id"?await z(s):await K({...s,id:u});m.status===200&&(F("操作成功","success"),_.query.save?window.onTabSaveSuccess&&(window.onTabSaveSuccess(m.result),setTimeout(()=>window.close(),300)):history.back()),f.value=!1};return M(()=>{var c;u!==":id"&&(d.value={name:n.data.name,description:((c=n.data)==null?void 0:c.description)||""})}),(c,s)=>{const m=O,j=A,v=E,B=J,I=L,C=Z,b=$,U=D;return r(),l("div",Q,[t(p)==="fixed-media"?(r(),l("div",W,[e(U,{gutter:[24,24]},{default:a(()=>[e(b,{span:12},{default:a(()=>[e(m,{data:"基本信息"}),i("div",null,[e(C,{model:t(d),name:"basic",autocomplete:"off",layout:"vertical",onFinish:S},{default:a(()=>[e(v,{label:"名称",name:"name",rules:[{required:!0,message:"请输入名称",trigger:"blur"},{max:64,message:"最多可输入64个字符",trigger:"blur"}]},{default:a(()=>[e(j,{placeholder:"请输入名称",value:t(d).name,"onUpdate:value":s[0]||(s[0]=g=>t(d).name=g)},null,8,["value"])]),_:1}),e(v,{label:"说明",name:"description"},{default:a(()=>[e(B,{placeholder:"请输入说明",rows:4,value:t(d).description,"onUpdate:value":s[1]||(s[1]=g=>t(d).description=g),"show-count":"",maxlength:200},null,8,["value"])]),_:1}),e(v,null,{default:a(()=>[t(P)==="false"?(r(),N(I,{key:0,type:"primary","html-type":"submit",hasPermission:`link/AccessConfig:${t(u)===":id"?"add":"update"}`,loading:t(f)},{default:a(()=>[R(" 保存 ")]),_:1},8,["hasPermission","loading"])):w("",!0)]),_:1})]),_:1},8,["model"])])]),_:1}),e(b,{span:12},{default:a(()=>[i("div",ee,[te,i("p",null,y(o.provider.name),1),i("p",null,y(o.provider.description),1),oe,i("p",null,y(o.provider.id==="fixed-media"?"URL":"SIP"),1)])]),_:1})]),_:1})])):t(p)==="gb28181"?(r(),l("div",ae,[e(H,{provider:n.provider,data:n.data},null,8,["provider","data"])])):t(p)==="onvif"?(r(),l("div",ne,[e(X,{provider:n.provider,data:n.data},null,8,["provider","data"])])):t(p)==="plugin"?(r(),l("div",se,[e(Y,{bindProduct:o.bindProduct,data:o.data,provider:o.provider},null,8,["bindProduct","data","provider"])])):w("",!0)])}}});const Pe=G(de,[["__scopeId","data-v-7acc07f4"]]);export{Pe as default};
