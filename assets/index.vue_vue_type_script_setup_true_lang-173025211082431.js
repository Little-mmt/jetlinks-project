import{dh as h,au as x,o as b,a0 as j,a1 as k,a2 as B,a3 as J,aa as L}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import{g as T,d as R}from"./dictionary-1730252110824.js";import{d as I,k as d,ab as M,U as N,V as S,X as e,f as n,u as r,E as m,_ as U,$ as u}from"./vue-1730252110824.js";const X=I({__name:"index",emits:["closeDown"],setup(V,{emit:c}){const _=d(!1),p=[{title:"name",dataIndex:"name",key:"name",ellipsis:!0},{title:"name",dataIndex:"name",key:"name",ellipsis:!0}],a=d([]),f=o=>{if(a.value.includes(o.id)){const t=a.value.findIndex(s=>s===o.id);a.value.splice(t,1)}else a.value=[...a.value,o.id]},w=()=>{c("closeDown")},v=async()=>{if(a.value.length){const o=await R({terms:[{terms:[{value:a.value,termType:"in",column:"id"}]}]});if(o.status===200&&o.result){const t=JSON.stringify(o.result);if(t){const s=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(s);h(l,`数据字典${x().format("YYYY-MM-DD HH:mm:ss")}`,"json"),c("closeDown")}c("closeDown")}}else b("至少选择一条数据!")};return(o,t)=>{const s=M("Ellipsis"),l=j,g=k,y=B,C=J,D=L;return N(),S(D,{visible:"",title:"下载",onCancel:w,onOk:v,maskClosable:!1,confirmLoading:r(_),width:900},{default:e(()=>[n(C,{columns:p,model:"CARD",request:r(T),gridColumn:2,defaultParams:{sorts:[{name:"createTime",order:"desc"}]}},{headerTitle:e(()=>[m(" 请选择需要下载的字典 ")]),card:e(i=>[n(y,{value:i,showStatus:!1,active:r(a).includes(i.id),onClick:f},{content:e(()=>[n(g,null,{default:e(()=>[n(l,{span:12},{default:e(()=>[n(s,{style:{width:"100%"}},{default:e(()=>[U("div",null,"字典名称："+u(i.name),1)]),_:2},1024)]),_:2},1024),n(l,{span:12},{default:e(()=>[n(s,{style:{width:"100%"}},{default:e(()=>[m(" 字典ID："+u(i.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value","active"])]),_:1},8,["request"])]),_:1},8,["confirmLoading"])}}});export{X as _};
