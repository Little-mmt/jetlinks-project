import{h as r,o as h,J as q,g as A}from"./index-1730252110824.js";import{_ as G}from"./ValueDetail.vue_vue_type_script_setup_true_lang-1730252110824.js";import{d as K,e as Q,k,U as o,Z as i,a4 as d,u as e,F as I,_ as g,f as P,X as H,E as U,$ as X,V as W,Y as ee}from"./vue-1730252110824.js";const s=new Map;s.set("txt",r("/running/txt.png"));s.set("doc",r("/running/doc.png"));s.set("xls",r("/running/xls.png"));s.set("ppt",r("/running/ppt.png"));s.set("docx",r("/running/docx.png"));s.set("xlsx",r("/running/xlsx.png"));s.set("pptx",r("/running/pptx.png"));s.set("pdf",r("/running/pdf.png"));s.set("img",r("/running/img.png"));s.set("error",r("/running/error.png"));s.set("video",r("/running/video.png"));s.set("other",r("/running/other.png"));s.set("obj",r("/running/obj.png"));const _=[".jpg",".png",".swf",".tiff"],b=[".m3u8",".flv",".mp4",".rmvb",".mvb"],j=[".txt",".doc",".xls",".pdf",".ppt",".docx",".xlsx",".pptx"],te=n=>{let u="";return[..._,...b,...j].map(l=>{const v=l.slice(1,l.length);n&&String(n).indexOf(v)!==-1&&(_.includes(l)?u="img":b.includes(l)?u="video":u=v)}),u},se={class:"value"},ne={key:1},ae=["src"],le=["src"],oe=["src"],ie=["src"],re=["src"],ue=["src"],ce=["src"],de=["src"],ge={style:{width:"100%","white-space":"normal"}},me={style:{width:"100%","white-space":"normal"}},fe=K({__name:"ValueRender",props:{data:{type:Object,default:()=>{}},value:{type:Object,default:()=>{}},type:{type:String,default:"card"}},setup(n){const u=n,l=Q(()=>u.type==="card"?"cardValue":"otherValue"),v=document.location.protocol==="https:",V=k(""),y=k(!1),T=k(!1),Y=m=>{m.target.src=s.get("other")},Z=m=>{m.target.src=s.get("error"),T.value=!0},x=m=>{const t=u.value;let f="";m==="img"?v&&(t==null?void 0:t.formatValue.indexOf("http:"))!==-1?h("域名为https时，不支持访问http地址","error"):T.value?h("该图片无法访问","error"):(f=[".jpg",".png"].find(p=>t==null?void 0:t.formatValue.includes(p))||"--",V.value=f,y.value=!0):m==="video"?v&&(t==null?void 0:t.formatValue.indexOf("http:"))!==-1?h("域名为https时，不支持访问http地址","error"):[".rmvb",".mvb"].some(p=>t==null?void 0:t.formatValue.includes(p))?h("当前仅支持播放.mp4,.flv,.m3u8格式的视频","error"):(f=[".m3u8",".flv",".mp4"].find(p=>t==null?void 0:t.formatValue.includes(p))||"--",V.value=f,y.value=!0):m==="obj"&&(f="obj",V.value=f,y.value=!0)};return(m,t)=>{var p,C,O,w,S,$,E,B,N,L,M,R,J,z,D,F;const f=q;return o(),i("div",se,[((p=n.value)==null?void 0:p.formatValue)!==0&&!((C=n.value)!=null&&C.formatValue)?(o(),i("div",{key:0,class:d(e(l))}," -- ",2)):((w=(O=u.data)==null?void 0:O.valueType)==null?void 0:w.type)==="file"?(o(),i("div",ne,[(($=(S=n.data)==null?void 0:S.valueType)==null?void 0:$.bodyType)==="base64"?(o(),i(I,{key:0},[e(te)((E=n.value)==null?void 0:E.formatValue)?(o(),i("div",{key:0,class:d(e(l))},[g("img",{src:e(s).get(m._type),onError:Y},null,40,ae)],2)):(o(),i("div",{key:1,class:d(e(l))},[g("img",{src:e(s).get("other")},null,8,le)],2))],64)):((N=(B=n.data)==null?void 0:B.valueType)==null?void 0:N.bodyType)==="Binary(二进制)"?(o(),i("div",{key:1,class:d(e(l))},[g("img",{src:e(s).get("other")},null,8,oe)],2)):(o(),i(I,{key:2},[e(_).some(a=>{var c;return(c=n.value)==null?void 0:c.formatValue.includes(a)})?(o(),i("div",{key:0,class:d(e(l)),onClick:t[0]||(t[0]=a=>x("img"))},[g("img",{src:(L=n.value)==null?void 0:L.formatValue,onError:Z},null,40,ie)],2)):e(b).some(a=>{var c;return(c=n.value)==null?void 0:c.formatValue.includes(a)})?(o(),i("div",{key:1,class:d(e(l)),onClick:t[1]||(t[1]=a=>x("video"))},[g("img",{src:e(s).get("video")},null,8,re)],2)):e(j).some(a=>{var c;return(c=n.value)==null?void 0:c.formatValue.includes(a)})?(o(),i("div",{key:2,class:d(e(l))},[g("img",{src:e(s).get(e(j).find(a=>{var c;return(c=n.value)==null?void 0:c.formatValue.includes(a)}).slice(1))},null,8,ue)],2)):(o(),i("div",{key:3,class:d(e(l))},[g("img",{src:e(s).get("other")},null,8,ce)],2))],64))])):((R=(M=u.data)==null?void 0:M.valueType)==null?void 0:R.type)==="object"?(o(),i("div",{key:2,onClick:t[2]||(t[2]=a=>x("obj")),class:d(e(l))},[g("img",{src:e(s).get("obj")},null,8,de)],2)):((z=(J=u.data)==null?void 0:J.valueType)==null?void 0:z.type)==="geoPoint"||((F=(D=u.data)==null?void 0:D.valueType)==null?void 0:F.type)==="array"?(o(),i("div",{key:3,class:d(e(l))},[g("div",ge,[P(f,null,{default:H(()=>{var a;return[U(X(JSON.stringify((a=n.value)==null?void 0:a.formatValue)),1)]}),_:1})])],2)):(o(),i("div",{key:4,class:d(e(l))},[g("div",me,[P(f,null,{default:H(()=>{var a;return[U(X(String((a=n.value)==null?void 0:a.formatValue)),1)]}),_:1})])],2)),e(y)?(o(),W(G,{key:5,type:e(V),value:n.value,onClose:t[3]||(t[3]=a=>y.value=!1)},null,8,["type","value"])):ee("",!0)])}}});const pe=A(fe,[["__scopeId","data-v-c779e931"]]),he=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));export{pe as V,he as a,te as g};
