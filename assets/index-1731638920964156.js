import{g as E,fM as J,cW as M,cX as X,Z,e as G,a3 as L,a4 as O}from"./index-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./index-1731638920964292.js";import"./index-1731638920964293.js";import W from"./index-1731638920964158.js";import Y from"./index-1731638920964159.js";import{i as H}from"./auto-1731638920964.js";import{k as s,w as K,ab as y,U as p,V as v,X as o,f as l,_ as u,u as n,G as B,Z as P,F as z,a1 as V,E as k,$ as I,Y as Q,af as ee,ag as te}from"./vue-1731638920964.js";import"./cascade-1731638920964.js";import"./playback-1731638920964.js";import"./timeLine-1731638920964.js";import"./iconNode.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./index-1731638920964289.js";const w=m=>(ee("data-v-847a3aa1"),m=m(),te(),m),ae={class:"bound"},oe={class:"bound_device"},ne=w(()=>u("div",null,"选择设备及目录查看通道：",-1)),se={class:"bound_channel"},le={style:{padding:"12px 24px 0",display:"flex"}},ie=w(()=>u("div",{class:"catalogue"},"当前目录：",-1)),re={__name:"index",setup(m){const g=s(),h=s(!1),b=s(),i=s(),r=s(),x=s(),S=s(),C=[{title:"ID",dataIndex:"channelId",key:"channelId",ellipsis:!0,search:{type:"string"}},{title:"通道名称",dataIndex:"name",key:"name",ellipsis:!0,search:{type:"string",first:!0}},{title:"厂商",dataIndex:"manufacturer",key:"manufacturer",ellipsis:!0},{title:"安装地址",dataIndex:"address",ellipsis:!0,key:"address",search:{type:"string"}},{title:"已录时长",scopedSlots:!0,key:"duration",dataIndex:"duration"},{title:"存储空间",scopedSlots:!0,key:"fileSize",dataIndex:"fileSize"},{title:"操作",key:"action",width:100,scopedSlots:!0}],F=a=>{b.value=a},N=(a,t)=>a?[{key:"backPlay",text:"回放",tooltip:{title:"回放"},icon:"PlayCircleOutlined",onClick:()=>{g.value=O(a),h.value=!0}}]:[],D=a=>{var _,f;const t=a,c={terms:[]};return i.value&&((_=c.terms)==null||_.push({column:"deviceId",value:i.value,type:"and"})),r.value&&((f=c.terms)==null||f.push({column:"channelId",value:r.value,type:"or"})),t.terms=[...c.terms,...t.terms],H("video",t)},R=({node:a})=>{const{channelCatalog:t}=a;S.value=t};return K(()=>[i.value,r.value],()=>{x.value.reload()},{deep:!0}),(a,t)=>{const c=M,_=X,f=y("pro-search"),q=y("AIcon"),A=Z,T=G,U=L,$=y("FullPage"),j=y("page-container");return p(),v(j,null,{default:o(()=>[l($,null,{default:o(()=>[u("div",ae,[u("div",oe,[ne,l(W,{height:700,type:"unbind",deviceId:n(i),"onUpdate:deviceId":t[0]||(t[0]=e=>B(i)?i.value=e:null),channelId:n(r),"onUpdate:channelId":t[1]||(t[1]=e=>B(r)?r.value=e:null),onSelect:R},null,8,["deviceId","channelId"])]),u("div",se,[u("div",le,[ie,l(_,null,{default:o(()=>[(p(!0),P(z,null,V(n(S),e=>(p(),v(c,null,{default:o(()=>[k(I(e),1)]),_:2},1024))),256))]),_:1})]),l(f,{columns:C,onSearch:F,params:n(b),target:"auto-video-record",style:{"padding-bottom":"0","margin-bottom":"0"}},null,8,["params"]),l(U,{style:{"min-height":"calc(100% - 60px)"},ref_key:"tableRef",ref:x,columns:C,model:"table",params:n(b),request:D},{fileSize:o(e=>[k(I(e.fileSize?(e.fileSize/1024/1024).toFixed(2):0)+"M ",1)]),duration:o(e=>[k(I(e.duration?n(J)(e.duration):0),1)]),action:o(e=>[l(T,{size:16},{default:o(()=>[(p(!0),P(z,null,V(N(e,"table"),d=>(p(),v(A,{key:d.key,disabled:d.disabled,popConfirm:d.popConfirm,type:"link",style:{padding:"0px"},tooltip:{...d.tooltip},onClick:d.onClick},{default:o(()=>[l(q,{type:d.icon},null,8,["type"])]),_:2},1032,["disabled","popConfirm","tooltip","onClick"]))),128))]),_:2},1024)]),_:1},8,["params"])])]),n(h)?(p(),v(Y,{key:0,data:n(g),onClose:t[2]||(t[2]=e=>h.value=!1)},null,8,["data"])):Q("",!0)]),_:1})]),_:1})}}},Pe=E(re,[["__scopeId","data-v-847a3aa1"]]);export{Pe as default};
