import{u as V,d as j,e as I,aa as $,g as w}from"./index-1731638920964.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-17316389209642.js";import S from"./Bind-1731638920964.js";import{d as T,k as b,e as J,U as s,V as f,X as r,u as a,Z as c,_ as h,f as _,E as k,Y as y}from"./vue-1731638920964.js";import"./notificationSubscription-1731638920964.js";import"./Wechat.vue_vue_type_script_setup_true_lang-1731638920964.js";const E={key:0,class:"tip"},L={key:1,class:"tip"},O={key:2,class:"tip"},M={key:3,class:"tip"},P={class:"btn"},X=T({__name:"Unsubscribe",props:{data:{type:Object,default:()=>{}},current:{type:Object,default:()=>{}}},emits:["close","save"],setup(p,{emit:o}){const u=p,v=V(),l=b(!1),i=b(!1),n=J(()=>{var e;return(e=u.current)==null?void 0:e.channelProvider}),x=()=>{["notifier-dingTalk","notifier-weixin"].includes(n.value)?i.value=!0:l.value=!0},C=e=>{l.value=!1,v.getUserInfo(),(n.value==="notifier-email"&&e.email||["notifier-voice","notifier-sms"].includes(n.value)&&e.telephone)&&(o("save",u.current),o("close"))},B=e=>{i.value=!1,o("save",e),o("close")};return(e,t)=>{const m=j,g=I,U=$;return s(),f(U,{maskClosable:!1,width:"384px",visible:"",onCancel:t[3]||(t[3]=d=>o("close")),footer:null},{default:r(()=>[a(n)==="notifier-dingTalk"?(s(),c("div",E,"请先绑定钉钉账号")):a(n)==="notifier-weixin"?(s(),c("div",L,"请先绑定企业微信账号")):a(n)==="notifier-email"?(s(),c("div",O,"请先绑定邮箱")):(s(),c("div",M,"请先绑定手机号")),h("div",P,[_(g,null,{default:r(()=>[_(m,{onClick:t[0]||(t[0]=d=>o("close"))},{default:r(()=>[k("取消")]),_:1}),_(m,{onClick:x,type:"primary"},{default:r(()=>[k("立即绑定")]),_:1})]),_:1})]),a(l)?(s(),f(N,{key:4,data:a(v).userInfos,onClose:t[1]||(t[1]=d=>l.value=!1),onSave:C},null,8,["data"])):y("",!0),a(i)?(s(),f(S,{key:5,onClose:t[2]||(t[2]=d=>i.value=!1),data:u.data,current:p.current,onSave:B},null,8,["data","current"])):y("",!0)]),_:1})}}});const F=w(X,[["__scopeId","data-v-95b6ce98"]]);export{F as default};
