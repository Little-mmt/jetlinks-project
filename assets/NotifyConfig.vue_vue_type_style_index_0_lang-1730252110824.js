import{a0 as R,a1 as b,a2 as I,a3 as B}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import{C as D}from"./config-17302521108242.js";import{M as J,N as M}from"./const-17302521108242.js";import{d as q,k as v,w as j,ab as g,U as A,Z as F,f as o,_ as i,X as n,W as K,u as p,R as O,$ as u,E as V,F as $}from"./vue-1730252110824.js";const z={style:{height:"400px","overflow-y":"auto"}},G=["src"],H={style:{"font-size":"16px","font-weight":"600"}},L=i("div",{class:"card-item-content-text"}," 通知方式 ",-1),U=i("div",{class:"card-item-content-text"},"说明",-1),ne=q({__name:"NotifyConfig",props:{notifyType:{type:String,default:""},value:{type:String,default:""}},emits:["update:value","change"],setup(y,{emit:r}){const d=y,h=(e,c)=>{var s;return(s=J[e].find(l=>l.value===c))==null?void 0:s.logo},C=e=>{var c;return(c=M.find(s=>s.value===e))==null?void 0:c.label},_=v({}),t=v([]),m=[{title:"名称",dataIndex:"name",key:"name",search:{type:"string"}},{title:"ID",dataIndex:"id",key:"id",search:{type:"string"}},{title:"说明",dataIndex:"description",key:"description",search:{type:"string"}}],x=e=>D.list({...e,terms:[...e==null?void 0:e.terms,{terms:[{termType:"eq",column:"type",value:d.notifyType}]}],sorts:[{name:"id",value:d.value},{name:"createTime",order:"desc"}]}),w=e=>{_.value=e},S=e=>{t.value=[...e]},T=e=>{t.value.includes(e.id)?(t.value=[],r("update:value",void 0),r("change",{provider:void 0})):(t.value=[e.id],r("update:value",e.id),r("change",{provider:e==null?void 0:e.provider}))};return j(()=>d.value,e=>{e?t.value=[e]:t.value=[]},{deep:!0,immediate:!0}),(e,c)=>{const s=g("pro-search"),l=g("Ellipsis"),f=R,k=b,E=I,N=B;return A(),F($,null,[o(s,{columns:m,type:"simple",target:"action-notice-config",onSearch:w,class:"action-search"}),i("div",z,[o(N,{columns:m,request:x,model:"CARD",bodyStyle:{padding:0},params:p(_),gridColumn:2,alertRender:!1,rowSelection:{selectedRowKeys:p(t),onChange:S}},{card:n(a=>[o(E,K({showStatus:!1,value:a,showTool:!1,actions:[]},a,{onClick:T,active:p(t).includes(a.id)}),{img:n(()=>[O(e.$slots,"img",{},()=>[i("img",{src:h(a.type,a.provider),class:"notify-logo"},null,8,G)])]),content:n(()=>[o(l,{style:{width:"calc(100% - 100px)"}},{default:n(()=>[i("span",H,u(a.name),1)]),_:2},1024),o(k,null,{default:n(()=>[o(f,{span:12},{default:n(()=>[L,i("div",null,u(C(a.type)),1)]),_:2},1024),o(f,{span:12},{default:n(()=>[U,o(l,null,{default:n(()=>[V(u(a.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1040,["value","active"])]),_:3},8,["params","rowSelection"])])],64)}}});export{ne as _};
