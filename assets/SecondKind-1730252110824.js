import{g as V,aH as j,J as q,ah as B,ai as D}from"./index-1730252110824.js";import"./index-1730252110824300.js";import{i as M,j as N,d as P}from"./accessConfig-1730252110824.js";import T from"./index-1730252110824133.js";import{k as h,o as K,U as n,Z as x,u as a,V as d,Y as m,X as l,_ as o,f as I,E as v,$ as y,F as L,a1 as F,af as J,ag as O}from"./vue-1730252110824.js";import"./index-1730252110824288.js";const S=i=>(J("data-v-2a80d447"),i=i(),O(),i),A={class:"plugin-other"},G={class:"plugin-id"},H=S(()=>o("div",{class:"plugin-text"},"插件ID：",-1)),U={class:"other-content"},X={class:"plugin-version"},Y=S(()=>o("div",{class:"plugin-text"},"版本号：",-1)),Z={class:"other-content"},$={__name:"SecondKind",props:{data:{type:Object}},setup(i){const u=i,c=h(),w=h(),p=h([]),g=new Map,C=()=>{M({terms:[{terms:[{column:"type",value:u.data.provider==="media-plugin"?"media":"deviceGateway",termType:"eq"}]}],sorts:[{name:"createTime",order:"desc"}],paging:!1}).then(t=>{t.success&&(c.value=t.result.find(s=>{var e;return s.id===((e=u.data)==null?void 0:e.channelId)}))})},b=async()=>{var s,e,r;const t=await N(u.data.channelId);if(t.success){const f=((r=(e=(s=t.result)==null?void 0:s.others)==null?void 0:e.configMetadata)==null?void 0:r.properties)||[];w.value=f.forEach(_=>{g.set(_.property,_.name)})}},E=async()=>{var s;const t=await P(u.data.id);t.success&&Object.keys(((s=t.result)==null?void 0:s.configuration)||{}).forEach(e=>{g.has(e)&&p.value.push({name:g.get(e),value:t.result.configuration[e]})})};return K(()=>{C(),b(),E()}),(t,s)=>{const e=j,r=q,f=B,_=D;return n(),x("div",null,[a(c)?(n(),d(e,{key:0,data:"插件"})):m("",!0),a(c)?(n(),d(T,{key:1,data:{...a(c),type:"plugin"}},{other:l(()=>[o("div",A,[o("div",G,[H,o("div",U,[I(r,null,{default:l(()=>[v(y(a(c).id),1)]),_:1})])]),o("div",X,[Y,o("div",Z,[I(r,null,{default:l(()=>[v(y(a(c).version),1)]),_:1})])])])]),_:1},8,["data"])):m("",!0),a(p).length?(n(),d(e,{key:2,data:"通用配置",style:{"margin-top":"20px"}})):m("",!0),a(p).length?(n(),d(_,{key:3,bordered:"",column:1},{default:l(()=>[(n(!0),x(L,null,F(a(p),k=>(n(),d(f,{label:k.name},{default:l(()=>[v(y(k.value),1)]),_:2},1032,["label"]))),256))]),_:1})):m("",!0)])}}},se=V($,[["__scopeId","data-v-2a80d447"]]);export{se as default};
