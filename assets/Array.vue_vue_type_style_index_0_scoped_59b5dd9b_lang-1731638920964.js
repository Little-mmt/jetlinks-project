import{d as b,k as c,w as E,ab as y,U as p,V as d,X as r,_,f as m,u as i,G as f,Z as I,F as U,a1 as j,B as D,R as K,Y as O,E as $,$ as F}from"./vue-1731638920964.js";import{I as J,_ as R,f as G,aN as L}from"./index-1731638920964.js";import{d as M}from"./typings-1731638920964.js";const P={class:"dropdown-button value"},T={class:"scene-select-content"},W=b({name:"ArrayParamsDropdown"}),q=b({...W,props:{...M},emits:["update:value","update:source","select","tabChange"],setup(g,{emit:v}){const o=g,a=c(),l=c(o.source),s=c("[]"),u=c(!1),C=e=>{l.value=e,v("update:source",l.value)},k=()=>{const e=a.value.split(",");v("update:value",e),s.value=JSON.stringify(e),v("select",e,a.value,s.value)},w=e=>{u.value=e};return E(()=>o.value,()=>{var e;(e=o.value)!=null&&e.every(t=>!t)?(a.value=void 0,s.value="[]"):(a.value=o.value.toString(),s.value=JSON.stringify(o.value))},{immediate:!0}),(e,t)=>{const S=y("AIcon"),h=y("Ellipsis"),N=J,V=R,x=G,B=L;return p(),d(B,{class:"scene-select-value",trigger:"click",visible:i(u),"onUpdate:visible":t[3]||(t[3]=n=>f(u)?u.value=n:null),overlayStyle:{maxWidth:"300px"},onVisibleChange:w},{overlay:r(()=>[_("div",T,[m(x,{onChange:C,activeKey:i(l),"onUpdate:activeKey":t[2]||(t[2]=n=>f(l)?l.value=n:null)},{default:r(()=>[(p(!0),I(U,null,j(e.tabsOptions,n=>(p(),d(V,{tab:n.label,key:n.key},{default:r(()=>[m(N,{placeholder:"多个值以英文逗号隔开",value:i(a),"onUpdate:value":t[1]||(t[1]=A=>f(a)?a.value=A:null),onChange:k},null,8,["value"])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey"])])]),default:r(()=>[_("div",{onClick:t[0]||(t[0]=D(n=>u.value=!0,["prevent"]))},[K(e.$slots,"default",{label:i(s)},()=>[_("div",P,[e.icon?(p(),d(S,{key:0,type:e.icon},null,8,["type"])):O("",!0),m(h,{style:{"max-width":"220px"}},{default:r(()=>[$(F(i(s)),1)]),_:1})])],!0)])]),_:3},8,["visible"])}}});export{q as _};
