import{ac as C,x as I,a3 as S,g as b}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import"./index-1730252110824287.js";import{g as E}from"./util-17302521108244.js";import{g as L}from"./department-17302521108242.js";import{d as u,k as o,e as A,U as B,Z as T,f as d,u as m,F as j}from"./vue-1730252110824.js";const k=u({name:"OrgList"}),O=u({...k,props:{rowKeys:{type:Array,default:()=>[]},productId:{type:String,default:""}},emits:["update"],setup(_,{emit:l}){const n=_,g=o(),r=o([]);o(n.rowKeys.map(e=>e.value));const c=o({name:"sortIndex",order:"asc"}),p=o(!0),y=A(()=>n.rowKeys.map(e=>e.value)),i=[{title:"名称",width:300,ellipsis:!0,dataIndex:"name",search:{type:"string"}},{title:"排序",dataIndex:"sortIndex",sorter:!0}],f=e=>{g.value=e},v=(e,a,t)=>{t.order?c.value={name:t.columnKey,order:t.order.replace("end","")}:c.value={name:"sortIndex",order:"asc"}},h=async e=>{var s;const a={paging:!1,sorts:[c.value]};e.terms&&e.terms.length&&(a.terms=e.terms);const t=await L(a);return p.value&&n.rowKeys.length&&(p.value=!1,r.value=E((s=n.rowKeys[0])==null?void 0:s.value,t.result)),t},x=(e,a)=>{const t=a[0];l("update",[{name:t.name,value:t.id}])},w=()=>{l("update",[])},K=e=>{r.value=e};return(e,a)=>{const t=C,s=I,R=S;return B(),T(j,null,[d(t,{columns:i,type:"simple",onSearch:f,class:"scene-search",target:"scene-triggrt-device-category"}),d(s,{style:{margin:"0"}}),d(R,{ref:"instanceRef",model:"TABLE",type:"TREE",columns:i,request:h,scroll:{y:200},bodyStyle:{padding:"16px 0 0 0"},expandable:{expandedRowKeys:m(r),onExpandedRowsChange:K},rowSelection:{type:"radio",selectedRowKeys:m(y),onChange:x},onChange:v,onSelectCancel:w},null,8,["expandable","rowSelection"])],64)}}});const H=b(O,[["__scopeId","data-v-d0710fcd"]]);export{H as default};
