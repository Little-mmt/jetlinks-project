import{cC as r,a5 as y,aL as B,aM as w,g as x}from"./index-1730252110824.js";import{g as S}from"./util-17302521108243.js";import{i as V}from"./isUndefined-1730252110824.js";import{d as N,e as C,k as M,w as h,ab as E,U as c,V as g,X as i,Z as K,F as O,a1 as D,u as k,_ as j,f as A,E as F,$ as J}from"./vue-1730252110824.js";const L=N({name:"DropdownMenus"}),U=N({...L,props:{value:{type:[String,Number,Boolean],default:void 0},options:{type:Array,default:()=>[]},valueName:{type:String,default:"value"}},emits:["update:value","click"],setup(_,{emit:d}){const l=_,p=C(()=>l.options.map(a=>{let t=a.label||a.name,e=V(a.value)?a.id:a.value;return r(e)&&(t=e===!0?"是":"否",e=String(e)),y(e)&&(e=JSON.stringify(e)),{...a,label:t,value:e}})),n=M(l.value),v=a=>a!=="false",b=a=>{var s,f,m;let t=["true","false"].includes((s=a.item)==null?void 0:s.value)?v((f=a.item)==null?void 0:f.value):(m=a.item)==null?void 0:m.value;const e=a.key,u=["true","false"].includes(e)?v(e):e,o=S(p.value,u,l.valueName);n.value=e,d("update:value",t),d("click",t,{key:t,...o})};return h(()=>l.value,()=>{r(l.value)?n.value=r(l.value):y(l.value)?n.value=JSON.stringify(l.value):n.value=l.value},{immediate:!0}),(a,t)=>{const e=E("Ellipsis"),u=B,o=w;return c(),g(o,{class:"scene-dropdown-menus",onClick:b,selectedKeys:[k(n)]},{default:i(()=>[(c(!0),K(O,null,D(k(p),s=>(c(),g(u,{key:s[_.valueName],value:s.value,title:s.label},{default:i(()=>[j("div",null,[A(e,null,{default:i(()=>[F(J(s.label),1)]),_:2},1024)])]),_:2},1032,["value","title"]))),128))]),_:1},8,["selectedKeys"])}}});const $=x(U,[["__scopeId","data-v-27ac151e"]]);export{$ as default};
