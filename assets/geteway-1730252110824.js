import{d as S,ac as T,k as v,o as V,U as w,Z as N,f as e,X as a,_ as t,u as s,V as F,E as M,Y as U,$ as b,af as q,ag as E}from"./vue-1730252110824.js";import{o as G,aH as x,I as J,v as O,a9 as R,Z as W,F as Z,a0 as $,a1 as A,g as D}from"./index-1730252110824.js";import{s as H,u as X}from"./accessConfig-1730252110824.js";import{P as Y}from"./data-17302521108246.js";const d=n=>(q("data-v-d250dc17"),n=n(),E(),n),z={class:"card-last"},K={class:"doc",style:{height:"600px"}},L=d(()=>t("p",null,"设备接入指引",-1)),Q=d(()=>t("p",null,"1、数据采集菜单中配置数采通道、点位",-1)),ee=d(()=>t("p",null,"2、创建数采设备接入网关",-1)),te=d(()=>t("p",null,"3、创建产品，并选中接入方式为数采设备接入",-1)),oe=d(()=>t("p",null,"4、添加设备，单独为每一个设备进行数据点绑定",-1)),ae=S({name:"GateWay"}),se=S({...ae,props:{provider:{type:Object,default:()=>{}},data:{type:Object,default:()=>{}}},setup(n){const c=n,g=T(),j=g.query.view,r=g.params.id,_=v(!1);v(c.provider.type||c.data.type);const i=v({name:"",description:""}),k=async l=>{_.value=!0;const o=c.provider.id,p={...l,provider:o,protocol:o,transport:Y.get(o),channel:c.provider.channel},u=r===":id"?await H(p):await X({...p,id:r});u.status===200&&(G("操作成功","success"),history.back(),window.onTabSaveSuccess&&(window.onTabSaveSuccess(u),setTimeout(()=>window.close(),300))),_.value=!1};return V(()=>{var l;r!==":id"&&(i.value={name:c.data.name,description:((l=c.data)==null?void 0:l.description)||""})}),(l,o)=>{const p=x,u=J,m=O,I=R,B=W,C=Z,h=$,y=x,P=A;return w(),N("div",z,[e(P,{gutter:[24,24]},{default:a(()=>[e(h,{span:12},{default:a(()=>[e(p,{data:"基本信息"}),t("div",null,[e(C,{model:s(i),autocomplete:"off",layout:"vertical",name:"basic",onFinish:k},{default:a(()=>[e(m,{rules:[{required:!0,message:"请输入名称",trigger:"blur"},{max:64,message:"最多可输入64个字符",trigger:"blur"}],label:"名称",name:"name"},{default:a(()=>[e(u,{value:s(i).name,"onUpdate:value":o[0]||(o[0]=f=>s(i).name=f),placeholder:"请输入名称"},null,8,["value"])]),_:1}),e(m,{label:"说明",name:"description"},{default:a(()=>[e(I,{value:s(i).description,"onUpdate:value":o[1]||(o[1]=f=>s(i).description=f),maxlength:200,rows:4,placeholder:"请输入说明","show-count":""},null,8,["value"])]),_:1}),e(m,null,{default:a(()=>[s(j)==="false"?(w(),F(B,{key:0,hasPermission:`link/AccessConfig:${s(r)===":id"?"add":"update"}`,"html-type":"submit",type:"primary",loading:s(_)},{default:a(()=>[M(" 保存 ")]),_:1},8,["hasPermission","loading"])):U("",!0)]),_:1})]),_:1},8,["model"])])]),_:1}),e(h,{span:12},{default:a(()=>[t("div",K,[e(y,{data:"配置概览"}),t("p",null,"接入方式："+b(n.provider.name),1),t("p",null,b(n.provider.description),1),L,e(y,{data:"设备接入指引"}),Q,ee,te,oe])]),_:1})]),_:1})])}}});const de=D(se,[["__scopeId","data-v-d250dc17"]]);export{de as default};
