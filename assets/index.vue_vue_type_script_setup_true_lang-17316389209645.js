import{Z as M,d as N,e as S,aL as V,aM as E,aN as F}from"./index-1731638920964.js";import{d as J,k as h,ab as O,U as c,Z as x,u as a,V as _,X as o,f as t,W as P,E as u,$ as g,F as Z,a1 as z}from"./vue-1731638920964.js";const U=J({__name:"index",props:{actions:{type:Array,default:()=>[]},isCheck:{type:Boolean,default:!1}},emits:["update:isCheck","change"],setup(f,{expose:v,emit:p}){const B=f,i=h(!1),s=h({}),j=l=>{const e=B.actions.find(r=>r.key===l.key);e!=null&&e.popConfirm||e!=null&&e.onClick?i.value=!1:(p("update:isCheck",!0),p("change",!0),i.value=!0),s.value=e||{}},d=()=>{s.value={},p("update:isCheck",!1),p("change",!1)},w=(l,e)=>{if(e)return m(),e(l)},m=()=>{i.value=!1};return v({reload:d}),(l,e)=>{const r=O("AIcon"),y=M,C=N,b=S,A=V,D=E,I=F;return c(),x("div",null,[a(s).key&&a(i)?(c(),_(b,{key:0},{default:o(()=>[t(y,P({type:"primary",ghost:!0,hasPermission:a(s).permission?a(s).permission:!0},{...a(s),...a(s).selected}),{icon:o(()=>[t(r,{type:a(s).icon},null,8,["type"])]),default:o(()=>[u(" "+g(a(s).text),1)]),_:1},16,["hasPermission"]),t(C,{type:"link",onClick:d},{default:o(()=>[t(r,{type:"RedoOutlined"}),u("重选")]),_:1})]),_:1})):(c(),_(I,{key:1,overlayStyle:{zIndex:1e3}},{overlay:o(()=>[t(D,{onClick:j},{default:o(()=>[(c(!0),x(Z,null,z(f.actions,n=>(c(),_(A,{key:n.key},{default:o(()=>[t(y,P({hasPermission:n.permission?n.permission:!0},n,{popConfirm:n.popConfirm?{...n.popConfirm,onCancel:m,onConfirm:L=>{var k;return w(L,(k=n==null?void 0:n.popConfirm)==null?void 0:k.onConfirm)}}:void 0}),{icon:o(()=>[t(r,{type:n.icon},null,8,["type"])]),default:o(()=>[u(" "+g(n.text),1)]),_:2},1040,["hasPermission","popConfirm"])]),_:2},1024))),128))]),_:1})]),default:o(()=>[t(C,null,{default:o(()=>[u("批量操作 "),t(r,{type:"DownOutlined"})]),_:1})]),_:1}))])}}});export{U as _};
