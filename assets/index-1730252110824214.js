import{aH as h,v as x,g as S}from"./index-1730252110824.js";import{u as b}from"./scene-17302521108242.js";import{d as _,ai as y,k,U as c,Z as C,f as o,X as i,u as m,_ as u,V as B,Y as T,af as w,ag as I}from"./vue-1730252110824.js";import P from"./index-1730252110824222.js";import{_ as V}from"./AddModal.vue_vue_type_script_setup_true_name_timerAddModel_lang-1730252110824.js";import j from"./AddButton-1730252110824.js";import N from"./Title-1730252110824.js";import"./scene-1730252110824.js";import"./index-1730252110824276.js";import"./index-1730252110824224.js";import"./index-1730252110824279.js";import"./index-1730252110824291.js";import"./List-1730252110824.js";import"./index-1730252110824219.js";import"./ActionTypeComponent.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./index.vue_vue_type_script_setup_true_lang-173025211082430.js";import"./index-1730252110824220.js";import"./index-1730252110824286.js";import"./NotifyWay-1730252110824.js";import"./config-17302521108242.js";import"./NotifyConfig.vue_vue_type_style_index_0_lang-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import"./const-17302521108242.js";import"./NotifyTemplate.vue_vue_type_style_index_0_lang-1730252110824.js";import"./template-1730252110824.js";import"./VariableDefinitions.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./BuildIn.vue_vue_type_script_setup_true_name_NotifyBuildIn_lang-1730252110824.js";import"./Org.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./Tag.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./InputFile.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./User.vue_vue_type_script_setup_true_name_NotifyUser_lang-1730252110824.js";import"./unionBy-1730252110824.js";import"./index-1730252110824218.js";import"./index-1730252110824287.js";import"./Product-17302521108243.js";import"./product-17302521108244.js";import"./category-1730252110824.js";import"./department-17302521108242.js";import"./setting-17302521108242.js";import"./index.vue_vue_type_script_setup_true_name_Device_lang-1730252110824.js";import"./TopCard-17302521108246.js";import"./Device-1730252110824.js";import"./Tag-1730252110824.js";import"./RelationSelect.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./util-17302521108242.js";import"./util-17302521108245.js";import"./lodash.default-1730252110824.js";import"./throttle-1730252110824.js";import"./min-1730252110824.js";import"./isNil-1730252110824.js";import"./isUndefined-1730252110824.js";import"./difference-1730252110824.js";import"./flattenDeep-1730252110824.js";import"./sortBy-1730252110824.js";import"./uniqBy-1730252110824.js";import"./toLower-1730252110824.js";import"./index.vue_vue_type_script_setup_true_name_ActionDeviceActions_lang-1730252110824.js";import"./EditTable.vue_vue_type_script_setup_true_lang-17302521108242.js";import"./FunctionItem.vue_vue_type_script_setup_true_name_FunctionItem_lang-1730252110824.js";import"./index-1730252110824223.js";import"./typings-1730252110824.js";import"./DropdownButton.vue_vue_type_style_index_0_scoped_011bae6b_lang-1730252110824.js";import"./Menus-1730252110824.js";import"./util-17302521108243.js";import"./Time.vue_vue_type_style_index_0_lang-1730252110824.js";import"./Array.vue_vue_type_style_index_0_scoped_59b5dd9b_lang-1730252110824.js";import"./Double.vue_vue_type_script_setup_true_name_DoubleParamsDropdown_lang-1730252110824.js";import"./index-1730252110824310.js";import"./WriteProperty.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./CardSelect-1730252110824.js";import"./Item-17302521108243.js";import"./index-1730252110824221.js";import"./AlarmModal-1730252110824.js";import"./useRequest-1730252110824.js";import"./useAlarmLevel-1730252110824.js";import"./config-1730252110824.js";import"./configuration-1730252110824.js";import"./util-1730252110824.js";import"./FilterGroup.vue_vue_type_script_setup_true_name_FilterGroup_lang-1730252110824.js";import"./DropdownButton-1730252110824.js";import"./FilterCondition.vue_vue_type_script_setup_true_name_FilterCondition_lang-1730252110824.js";import"./CheckFilterItem-1730252110824.js";import"./CheckItem.vue_vue_type_script_setup_true_name_ActionCheckItem_lang-1730252110824.js";import"./index.vue_vue_type_script_setup_true_name_Timer_lang-1730252110824.js";import"./WhenOption-1730252110824.js";import"./Calendar-1730252110824.js";import"./index-1730252110824235.js";import"./index-1730252110824309.js";const $=p=>(w("data-v-e27280d8"),p=p(),I(),p),z={class:"timer"},A=$(()=>u("span",{style:{"padding-right":"10px"}}," 系统时间到达 ",-1)),E={class:"actions-branches-item"},O=_({name:"SceneSaveTimer"}),R=_({...O,setup(p){const d=b(),{data:r}=y(d),s=k(!1),f=[{validator(n,t){return t?Promise.resolve():Promise.reject(new Error("请配置定时触发规则"))}}],v=[{validator(n,t){return!t||t&&!t.length||!t.some(e=>e.actions&&e.actions.length)?Promise.reject("至少配置一个执行动作"):Promise.resolve()}}],g=(n,t)=>{r.value.trigger.timer=n,r.value.options.trigger=t,s.value=!1};return(n,t)=>{const e=h,l=x;return c(),C("div",z,[o(l,{rules:f,name:["trigger","timer"]},{label:i(()=>[o(e,{data:"触发规则",style:{"font-size":"14px"}})]),default:i(()=>[o(j,{style:{width:"100%"},onClick:t[0]||(t[0]=a=>s.value=!0)},{extra:i(()=>[A]),default:i(()=>[o(N,{options:m(r).options.trigger},null,8,["options"])]),_:1})]),_:1}),u("div",E,[o(l,{rules:v,name:["branches",0,"then"]},{label:i(()=>[o(e,{data:"执行动作",style:{"font-size":"14px"}})]),default:i(()=>{var a;return[o(P,{thenOptions:m(r).branches?(a=m(r))==null?void 0:a.branches[0].then:[],name:0},null,8,["thenOptions"])]}),_:1})]),m(s)?(c(),B(V,{key:0,onCancel:t[1]||(t[1]=a=>s.value=!1),onSave:g,value:m(r).trigger.timer},null,8,["value"])):T("",!0)])}}});const Co=S(R,[["__scopeId","data-v-e27280d8"]]);export{Co as default};
