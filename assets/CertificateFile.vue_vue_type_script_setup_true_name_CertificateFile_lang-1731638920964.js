import{T as _,L as y,o as i,a9 as E,d as T,as as w,A}from"./index-1731638920964.js";import{N as L}from"./certificate-1731638920964.js";import{d as f,k as m,w as N,ab as U,U as j,V as k,X as p,f as l,u as t,G as B,E as I}from"./vue-1731638920964.js";const O=f({name:"CertificateFile"}),b=f({...O,props:{name:{type:String,default:()=>""},modelValue:{type:String,default:()=>""},placeholder:{type:String,default:()=>""}},emits:["update:modelValue","change"],setup(c,{emit:s}){const r=c,e=m(r.modelValue),u=m(!1),g=a=>{var n;if(u.value=!0,a.file.status==="done"){const o=(n=a.file.response)==null?void 0:n.result;new RegExp(/\.pem$/i).test(a.file.name)?(e.value=o,s("change",o),s("update:modelValue",o),i("上传成功！","success")):i("请上传.pem格式的文件","error"),u.value=!1}},h=a=>{s("change",e.value),s("update:modelValue",e.value)};return N(()=>r.modelValue,a=>{e.value=a},{deep:!0,immediate:!0}),(a,n)=>{const o=E,d=U("AIcon"),v=T,C=w,x=A;return j(),k(x,{spinning:t(u)},{default:p(()=>[l(o,{rows:4,onChange:h,value:t(e),"onUpdate:value":n[0]||(n[0]=V=>B(e)?e.value=V:null),placeholder:c.placeholder},null,8,["value","placeholder"]),l(C,{accept:".pem",listType:"text",action:t(L),headers:{[t(_)]:t(y).get(t(_))},showUploadList:!1,onChange:g},{default:p(()=>[l(v,{style:{"margin-top":"10px"}},{default:p(()=>[l(d,{type:"UploadOutlined"}),I(" 上传文件")]),_:1})]),_:1},8,["action","headers"])]),_:1},8,["spinning"])}}});export{b as _};
