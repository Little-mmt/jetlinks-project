import{g as S,au as F,a2 as B,af as E}from"./index-1731638920964.js";import{u as N}from"./instance-1731638920964.js";import{u as V}from"./product-17316389209645.js";import{i as D,h as P}from"./firmware-1731638920964.js";import Y from"./index-173163892096449.js";import{k as v,o as L,ab as M,U as s,Z as u,u as o,F as I,a1 as q,f as w,X as y,_ as t,E as _,$ as d,W as H,V as k,Y as J,af as $,ag as j}from"./vue-1731638920964.js";import"./product-17316389209644.js";import"./encodeQuery-1731638920964.js";import"./index-1731638920964299.js";import"./index-1731638920964300.js";import"./index.vue_vue_type_script_setup_true_name_TaskPage_lang-1731638920964.js";import"./index-1731638920964279.js";import"./SelectDevices-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./index-173163892096447.js";const x=r=>($("data-v-a15bffb8"),r=r(),j(),r),U={key:0,class:"firmwareContainer"},W={class:"firmwareBox"},X={class:"cardContent"},Z={class:"firmwareHead"},z={class:"firmwareDes"},A={class:"firmwareFoot"},G=x(()=>t("span",{class:"firmwareFootTitle"},"签名方式：",-1)),K=x(()=>t("span",{class:"firmwareFootTitle"},"创建时间：",-1)),O={class:"version"},Q={__name:"index",props:{type:{type:String,default:"device"}},setup(r){const m=r,{current:a}=m.type==="device"?N():V(),i=v(),h=v(),f=v(!1),T=async()=>{const n=await D({paging:!1,sorts:[{name:"createTime",order:"desc"}],terms:[{terms:[{type:"or",value:m.type==="device"?a.productId:a.id,termType:"eq",column:"productId"}]}]});if(n.success&&(i.value=n.result),m.type==="device"){const c=await P({paging:!1,sorts:[{name:"createTime",order:"desc"}],terms:[{terms:[{column:"productId",value:a.productId}]}]});c.success&&(i.value=i.value.filter(p=>c.result.find(l=>p.id===l.firmwareId&&a.id===l.deviceId)))}},C=n=>{h.value=n,f.value=!0};return L(()=>{T()}),(n,c)=>{var g;const p=M("Ellipsis"),l=B,b=E;return s(),u(I,null,[(g=o(i))!=null&&g.length?(s(),u("div",U,[(s(!0),u(I,null,q(o(i),e=>(s(),u("div",W,[w(l,H({showStatus:!1,value:e,onClick:()=>C(e.id)},e),{content:y(()=>[t("div",X,[t("div",Z,[w(p,{style:{width:"200px"}},{default:y(()=>[_(d(e.name),1)]),_:2},1024)]),t("div",z,[w(p,{style:{width:"200px"}},{default:y(()=>[_(d(e.description),1)]),_:2},1024)]),t("div",A,[t("div",null,[G,_(d(e.signMethod),1)]),t("div",null,[K,_(d(o(F)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])]),t("div",O,"V "+d(e.version),1)])]),_:2},1040,["value","onClick"])]))),256))])):(s(),k(b,{key:1})),o(f)?(s(),k(Y,{key:2,firmwareId:o(h),showPosition:"detail",deviceId:m.type==="device"?o(a).id:"",onCloseDrawer:c[0]||(c[0]=e=>f.value=!1)},null,8,["firmwareId","deviceId"])):J("",!0)],64)}}},ye=S(Q,[["__scopeId","data-v-a15bffb8"]]);export{ye as default};
