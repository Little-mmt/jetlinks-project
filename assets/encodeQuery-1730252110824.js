import{b4 as i,a5 as f}from"./index-1730252110824.js";const l=(r,s,o)=>{s.forEach((e,c)=>{const t=`${o}[${c}]`;f(e)?l(r,e,`${t}`):i(e)?$(r,e,`${t}`):r[t]=e})},$=(r,s,o)=>{Object.keys(s).forEach(e=>{const c=`${o}.${e}`;console.log(c,s[e],i(s[e]),f(s[e]),e),e==="value"&&f(s[e])?r[c]=s[e].join(","):f(s[e])?l(r,s[e],`${c}`):i(s[e])?$(r,s[e],`${c}`):r[c]=s[e]})},h=(r,s,o)=>{console.log(s),s.forEach((e,c)=>{Object.keys(e).forEach(t=>{const n=`${o}[${c}].${t}`;f(e[t])?l(r,e[t],`${n}`):i(e[t])?$(r,e[t],`${n}`):r[n]=e[t]})})},E=r=>{if(!r)return{};const s={current:r.current},{sorts:o,terms:e}=r;return e&&h(s,e,"terms"),o&&o.forEach((c,t)=>{s[`sorts[${t}].name`]=c.name,s[`sorts[${t}].order`]=c.order}),s};function j(r){if(!r)return{};const s={current:r.current},{terms:o,sorts:e}=r;return Object.keys(r).forEach(c=>{if(c==="terms"){let t=0;if(!o)return;Object.keys(o).forEach(n=>{if(!(o[n]===""||o[n]===void 0||o[n].length===0||i(o[n])&&Object.keys(o[n]).length===0||o[n]===null)){if(n.indexOf("$LIKE")>-1&&o[n].toString().indexOf("%")===-1&&(o[n]=`%${o[n]}%`),n.indexOf("$IN")>-1?o[n]=o[n].toString():n.indexOf("$START")>-1?o[n]=`%${o[n]}`:n.indexOf("$END")>-1&&(o[n]=`${o[n]}%`),n.indexOf("@")>-1){const O=n.split("@");s[`terms[${t}].column`]=O[0],s[`terms[${t}].type`]=O[1]}else s[`terms[${t}].column`]=n;s[`terms[${t}].value`]=o[n],t+=1}})}else if(c==="sorts"){if(!e)return;Object.keys(e).forEach((t,n)=>{s[`sorts[${n}].name`]=t,s[`sorts[${n}].order`]=e[t].replace("end","")})}else s[c]=r[c]}),s}export{j as e,E as p};
