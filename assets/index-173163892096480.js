import{dp as J,$ as K,_ as N,f as T,af as V,g as D}from"./index-1731638920964.js";import{u as L}from"./instance-1731638920964.js";import{_ as R}from"./index.vue_vue_type_style_index_0_lang-17316389209642.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-173163892096421.js";import{d as F,k as i,ai as I,w as O,U as p,Z as h,_ as f,f as k,u as r,G as g,V as l,X as d,F as G,a1 as X,E as Z,$ as w}from"./vue-1731638920964.js";import{l as S}from"./lodash.default-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./vue-json-viewer-1731638920964.js";import"./PropertyCard-1731638920964.js";import"./index-1731638920964288.js";import"./ValueRender-1731638920964.js";import"./ValueDetail.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./index-1731638920964298.js";import"./index-1731638920964289.js";import"./Save.vue_vue_type_script_setup_true_lang-17316389209644.js";import"./index.vue_vue_type_script_setup_true_lang-173163892096420.js";import"./TimeComponent.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./Charts.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./Chart-1731638920964.js";import"./index-1731638920964297.js";import"./PropertyAMap.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./Table-17316389209643.js";import"./Indicators-1731638920964.js";import"./throttle-1731638920964.js";import"./map-17316389209642.js";import"./min-1731638920964.js";import"./isNil-1731638920964.js";import"./isUndefined-1731638920964.js";import"./difference-1731638920964.js";import"./flattenDeep-1731638920964.js";import"./sortBy-1731638920964.js";import"./unionBy-1731638920964.js";import"./uniqBy-1731638920964.js";import"./toLower-1731638920964.js";const q={class:"property-box"},z={class:"property-box-left"},A={style:{"max-width":"150px"},class:"tabTitle"},H={class:"property-box-right"},M=F({__name:"index",setup(P){const y=i("property"),a=i([{key:"property",tab:"属性",type:"property"}]),m=i("property"),v=i({}),_=i(""),B=L(),{current:C}=I(B),b=i(void 0),c=i(void 0);O(()=>C.value,o=>{a.value=[{key:"property",tab:"属性",type:"property"}];const t=JSON.parse((o==null?void 0:o.metadata)||"{}");b.value=t.properties,c.value=t.events,c.value&&c.value.length&&c.value.map(e=>{a.value.push({...e,key:e.id,tab:e.name,type:"event"})})},{immediate:!0,deep:!0});const $=()=>{var e;const o=[{key:"property",tab:"属性",type:"property"},...c.value.map(n=>({...n,key:n.id,tab:n.name,type:"event"}))];if(_.value){const n=o.filter(u=>(u==null?void 0:u.tab.indexOf(_.value))!==-1);a.value=S.cloneDeep(n)}else a.value=S.cloneDeep(o);const t=(e=a.value)==null?void 0:e[0];t?(v.value=t,m.value=t.type):m.value=""},j=o=>{const t=a.value.find(e=>e.key===o);t&&(v.value=t,m.value=t.type)};return(o,t)=>{const e=J,n=K,u=N,E=T,x=V;return p(),h("div",q,[f("div",z,[k(e,{value:r(_),"onUpdate:value":t[0]||(t[0]=s=>g(_)?_.value=s:null),placeholder:"请输入事件名称",style:{width:"200px","margin-bottom":"10px"},onSearch:$,allowClear:!0},null,8,["value"]),r(a).length?(p(),l(E,{key:0,"tab-position":"left",style:{height:"500px"},activeKey:r(y),"onUpdate:activeKey":t[1]||(t[1]=s=>g(y)?y.value=s:null),tabBarStyle:{width:"200px"},onChange:j},{default:d(()=>[(p(!0),h(G,null,X(r(a),s=>(p(),l(u,{key:s.key},{tab:d(()=>[k(n,null,{title:d(()=>[Z(w(s.tab),1)]),default:d(()=>[f("div",A,w(s.tab),1)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["activeKey"])):(p(),l(x,{key:1,style:{margin:"180px 0"}}))]),f("div",H,[r(m)==="event"?(p(),l(R,{key:0,data:r(v)},null,8,["data"])):r(m)==="property"?(p(),l(U,{key:1,data:r(b)},null,8,["data"])):(p(),l(x,{key:2,style:{margin:"220px 0"}}))])])}}});const Lt=D(M,[["__scopeId","data-v-4c324dbb"]]);export{Lt as default};
