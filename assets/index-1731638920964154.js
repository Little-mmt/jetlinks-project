import{g as O,au as j,Z as K,I as M,cY as q,aR as F,ah as H,ai as S}from"./index-1731638920964.js";import"./index-1731638920964300.js";import{u as U,_ as Z}from"./index.vue_vue_type_style_index_0_lang-17316389209644.js";import z from"./index-1731638920964151.js";import J from"./index-1731638920964152.js";import{k as r,ac as X,p as G,w as Q,o as W,ab as g,U as c,V as B,X as t,_ as p,Z as b,$ as _,f as a,Y as ee,E as d,u as te,a5 as ae,d as oe}from"./vue-1731638920964.js";import{f as se,d as ne}from"./auto-1731638920964.js";import"./index-1731638920964306.js";import"./index-1731638920964157.js";import"./Setting.vue_vue_type_script_setup_true_name_Setting_lang-1731638920964.js";import"./Time-1731638920964.js";import"./useRequest-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./index-1731638920964292.js";import"./index-1731638920964293.js";import"./Bind-17316389209642.js";import"./index-1731638920964158.js";import"./cascade-1731638920964.js";import"./index-1731638920964166.js";import"./index-1731638920964289.js";import"./mediaTool-1731638920964.js";import"./RadioButton-1731638920964.js";import"./channel-17316389209642.js";import"./Share-1731638920964.js";import"./Preset.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./unionBy-1731638920964.js";import"./index-1731638920964159.js";import"./playback-1731638920964.js";import"./timeLine-1731638920964.js";import"./iconNode.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./logView-1731638920964.js";import"./index-1731638920964299.js";import"./vue-json-viewer-1731638920964.js";import"./index-1731638920964307.js";const ie={class:"video-detail-title"},le={class:"title-body"},re={key:0},ue={key:1},me={key:0,class:"tips"},ce={style:{padding:"24px",height:"100%"}},pe=oe({name:"Detail"}),_e=Object.assign(pe,{setup(de){const u=r(!1),h=X(),i=r(),l=r(),v=r(!1),m=r("Rule"),k=r(!0),s=r({schedules:[],saveDays:1,others:{retention:1,times:[],trigger:"week"}});U(s),G("video-tags",{tag:m,terms:[]});const I=[{key:"Rule",tab:"录制规则"},{key:"Channel",tab:"关联通道"},{key:"Log",tab:"执行日志"}],P={Rule:Z,Channel:z,Log:J},C=e=>{m.value=e,k.value=!1},D=async()=>{var o;const e=await se({terms:[{column:"id",termType:"eq",value:h.params.id}]});e.success&&(s.value=Object.assign({schedules:[],saveDays:1,others:{retention:1,times:[],trigger:"week"}},(o=e.result.data)==null?void 0:o[0]))},x=async e=>{l.value||(e?u.value=e:(v.value=!0,(await ne({id:h.params.id,name:i.value,type:"video"}).finally(()=>{v.value=!1,u.value=e})).success&&D()))},T=()=>{i.value?i.value.length>64?l.value="最多可输入64位字符":l.value="":l.value="计划名称不能为空"},N=()=>{var e;u.value=!1,l.value="",i.value=(e=s.value)==null?void 0:e.name};return Q(()=>{var e;return(e=s.value)==null?void 0:e.name},e=>{e&&(i.value=e)},{immediate:!0}),W(()=>{D()}),(e,o)=>{const Y=g("AIcon"),w=K,$=M,A=q,R=F,f=H,V=S,E=g("FullPage"),L=g("page-container");return c(),B(L,{tabList:I,showBack:!0,tabActiveKey:m.value,onTabChange:C},{title:t(()=>{var n;return[p("div",ie,[p("div",le,[u.value?(c(),b("div",ue,[a(R,null,{default:t(()=>[p("div",null,[a($,{value:i.value,"onUpdate:value":o[1]||(o[1]=y=>i.value=y),onChange:T},null,8,["value"]),l.value?(c(),b("div",me,_(l.value),1)):ee("",!0)]),a(A,{onClick:N},{default:t(()=>[d("取消")]),_:1}),a(w,{type:"primary",onClick:o[2]||(o[2]=y=>x(!u.value))},{default:t(()=>[d("确认")]),_:1})]),_:1})])):(c(),b("div",re,[p("span",null,_(((n=s.value)==null?void 0:n.name)||"----"),1),a(w,{type:"link",hasPermission:!0,loading:v.value,onClick:o[0]||(o[0]=y=>x(!u.value))},{default:t(()=>[a(Y,{type:"EditOutlined"})]),_:1},8,["loading"])]))])])]}),content:t(()=>[a(V,{size:"small",column:4},{default:t(()=>[a(f,{label:"计划ID"},{default:t(()=>{var n;return[d(_((n=s.value)==null?void 0:n.id),1)]}),_:1}),a(f,{label:"创建人"},{default:t(()=>[d(_(s.value.creatorName),1)]),_:1}),a(f,{label:"创建时间"},{default:t(()=>{var n;return[d(_((n=s.value)!=null&&n.createTime?te(j)(s.value.createTime).format("YYYY-MM-DD HH:mm:ss"):""),1)]}),_:1})]),_:1})]),default:t(()=>[a(E,null,{default:t(()=>[p("div",ce,[(c(),B(ae(P[m.value]),{onOnJump:C,key:m.value,first:k.value},null,40,["first"]))])]),_:1})]),_:1},8,["tabActiveKey"])}}}),et=O(_e,[["__scopeId","data-v-12f20ecb"]]);export{et as default};
