import{F as b,o as C,cU as T,v as U,I as F,aa as M}from"./index-1730252110824.js";import"./index-1730252110824291.js";import{s as S}from"./config-1730252110824.js";import{d as V,k as q,r as B,s as I,U as m,V as p,X as r,f as u,u as t,Y as x}from"./vue-1730252110824.js";const E=V({__name:"output",props:{data:{default:""}},emits:["closeModel","saveSuc"],setup(y,{emit:_}){const o=y,k=q();b.useForm;let e=B({status:!1,address:"",topic:""});I(()=>{var l,a,n,d,c,i,f,s,v,g,h;e.status=((n=(a=(l=o.data)==null?void 0:l.data)==null?void 0:a.state)==null?void 0:n.value)==="enabled",e.address=(f=(i=(c=(d=o.data)==null?void 0:d.data)==null?void 0:c.config)==null?void 0:i.config)==null?void 0:f.address,e.topic=(h=(g=(v=(s=o.data)==null?void 0:s.data)==null?void 0:v.config)==null?void 0:g.config)==null?void 0:h.topic});const w=()=>{_("closeModel")},j=()=>{k.value.validateFields().then(()=>{var l,a;S({config:{sourceType:"kafka",config:{...e,state:e!=null&&e.status?"enabled":"disable"}},state:e!=null&&e.status?"enabled":"disable",id:(a=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:a.id,sourceType:"kafka",exchangeType:"producer"}).then(n=>{n.status===200&&(C("操作成功"),_("saveSuc"))})})};return(l,a)=>{const n=T,d=U,c=F,i=b,f=M;return m(),p(f,{maskClosable:!1,width:"45vw",title:"编辑",onCancel:w,onOk:j,visible:"",cancelText:"取消",okText:"确定"},{default:r(()=>[u(i,{layout:"vertical",model:t(e),ref_key:"formRef",ref:k},{default:r(()=>[u(d,{label:"状态"},{default:r(()=>[u(n,{"checked-children":"启用","un-checked-children":"启用",checked:t(e).status,"onUpdate:checked":a[0]||(a[0]=s=>t(e).status=s)},null,8,["checked"])]),_:1}),t(e).status?(m(),p(d,{key:0,label:"kafka地址",name:"address",rules:[{required:!0,message:"请输入kafka地址"},{max:64,message:"最多输入64个字符"}]},{default:r(()=>[u(c,{value:t(e).address,"onUpdate:value":a[1]||(a[1]=s=>t(e).address=s),placeholder:"请输入kafka地址"},null,8,["value"])]),_:1})):x("",!0),t(e).status?(m(),p(d,{key:1,label:"topic",name:"topic",rules:[{required:!0,message:"请输入topic"},{max:64,message:"最多输入64个字符"}]},{default:r(()=>[u(c,{value:t(e).topic,"onUpdate:value":a[2]||(a[2]=s=>t(e).topic=s)},null,8,["value"])]),_:1})):x("",!0)]),_:1},8,["model"])]),_:1})}}});export{E as _};
