import{d as B,k as y,ac as Z,w as L,ab as p,U as i,V as h,X as e,_ as s,f as a,u as d,E as _,W as M,R as U,$ as r,Z as P,F as j,a1 as W,Y as X,af as Y,ag as G}from"./vue-1731638920964.js";import{h as H,o as k,Z as K,$ as Q,a0 as ee,a1 as te,a2 as oe,e as ae,a3 as ne,g as se}from"./index-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import{l as le,r as ce}from"./FileUpload-17316389209642.js";import ie from"./index-1731638920964145.js";import{l as re}from"./lodash.default-1731638920964.js";import"./index-1731638920964290.js";import"./throttle-1731638920964.js";import"./min-1731638920964.js";import"./isNil-1731638920964.js";import"./isUndefined-1731638920964.js";import"./difference-1731638920964.js";import"./flattenDeep-1731638920964.js";import"./sortBy-1731638920964.js";import"./unionBy-1731638920964.js";import"./uniqBy-1731638920964.js";import"./toLower-1731638920964.js";const T=u=>(Y("data-v-8894cdc0"),u=u(),G(),u),pe=["src"],de={class:"card-item-content"},_e={style:{"font-size":"16px","font-weight":"600"}},ue=T(()=>s("div",{class:"card-item-content-text"}," ID ",-1)),me={class:"card-item-content-text"},fe=T(()=>s("div",{class:"card-item-content-text"}," 类型 ",-1)),ye={class:"card-item-content-text"},he=B({name:"AccessConfigPage"}),ge=B({...he,setup(u){const g=y({}),v=y({}),D=Z(),m=y(!1),f=y({}),x=[{title:"ID",dataIndex:"id",key:"id",search:{type:"string",defaultTermType:"eq"},width:200,fixed:"left"},{title:"名称",dataIndex:"name",key:"name",search:{type:"string"},ellipsis:!0},{title:"类型",dataIndex:"type",key:"type",search:{type:"select",options:[{label:"jar",value:"jar"},{label:"local",value:"local"}]},scopedSlots:!0},{title:"说明",dataIndex:"description",key:"description",search:{type:"string"},ellipsis:!0},{title:"操作",key:"action",fixed:"right",width:100,scopedSlots:!0}],C=(o,R)=>o?[{key:"update",text:"编辑",tooltip:{title:"编辑"},icon:"EditOutlined",onClick:()=>{E(o)}},{key:"delete",text:"删除",tooltip:{title:"删除"},popConfirm:{title:"确认删除?",onConfirm:()=>{const c=ce(o.id);return c.then(l=>{l.status===200?(k("操作成功","success"),g.value.reload()):k(l==null?void 0:l.message,"error")}),c}},icon:"DeleteOutlined"}]:[],b=()=>{f.value={},m.value=!0},E=o=>{f.value=re.cloneDeep(o),m.value=!0},A=o=>{m.value=!1,f.value={},o&&(k("操作成功","success"),g.value.reload())};L(()=>{var o;return(o=D.query)==null?void 0:o.save},o=>{o==="true"&&b()},{deep:!0,immediate:!0});const J=o=>{v.value=o};return(o,R)=>{const I=p("pro-search"),c=p("AIcon"),l=K,V=p("Ellipsis"),S=Q,w=ee,q=te,F=oe,N=ae,O=ne,$=p("FullPage"),z=p("page-container");return i(),h(z,null,{default:e(()=>[s("div",null,[a(I,{columns:x,target:"search-protocol",onSearch:J}),a($,null,{default:e(()=>[a(O,{ref_key:"tableRef",ref:g,columns:x,request:d(le),defaultParams:{sorts:[{name:"createTime",order:"desc"}]},params:d(v)},{headerTitle:e(()=>[a(l,{type:"primary",onClick:b,hasPermission:"link/Protocol:add"},{icon:e(()=>[a(c,{type:"PlusOutlined"})]),default:e(()=>[_(" 新增 ")]),_:1})]),card:e(n=>[a(F,M({showStatus:!1,value:n,actions:C(n,"card")},n),{img:e(()=>[U(o.$slots,"img",{},()=>[s("img",{src:d(H)("/protocol.png")},null,8,pe)],!0)]),content:e(()=>[s("div",de,[a(V,{style:{"margin-bottom":"18px"}},{default:e(()=>[s("span",_e,r(n.name),1)]),_:2},1024),a(q,{class:"card-item-content-box"},{default:e(()=>[a(w,{span:12,class:"card-item-content-text"},{default:e(()=>[ue,s("div",me,[a(S,null,{title:e(()=>[_(r(n.id),1)]),default:e(()=>[_(" "+r(n.id),1)]),_:2},1024)])]),_:2},1024),a(w,{span:12},{default:e(()=>[fe,s("div",ye,[a(S,null,{title:e(()=>[_(r(n.type),1)]),default:e(()=>[_(" "+r(n.type),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),actions:e(t=>[a(l,{disabled:t.disabled,popConfirm:t.popConfirm,tooltip:{...t.tooltip},onClick:t.onClick,hasPermission:"link/Protocol:"+t.key},{default:e(()=>[t.key==="delete"?(i(),h(c,{key:0,type:"DeleteOutlined"})):(i(),P(j,{key:1},[a(c,{type:t.icon},null,8,["type"]),s("span",null,r(t==null?void 0:t.text),1)],64))]),_:2},1032,["disabled","popConfirm","tooltip","onClick","hasPermission"])]),_:2},1040,["value","actions"])]),action:e(n=>[a(N,{size:16},{default:e(()=>[(i(!0),P(j,null,W(C(n,"table"),t=>(i(),h(l,{key:t.key,disabled:t.disabled,popConfirm:t.popConfirm,tooltip:{...t.tooltip},style:{padding:"0px"},onClick:t.onClick,type:"link",danger:t.key==="delete",hasPermission:"link/Protocol:"+t.key},{icon:e(()=>[a(c,{type:t.icon},null,8,["type"])]),_:2},1032,["disabled","popConfirm","tooltip","onClick","danger","hasPermission"]))),128))]),_:2},1024)]),_:3},8,["request","params"])]),_:3})]),d(m)?(i(),h(ie,{key:0,data:d(f),onChange:A},null,8,["data"])):X("",!0)]),_:3})}}});const $e=se(ge,[["__scopeId","data-v-8894cdc0"]]);export{$e as default};
