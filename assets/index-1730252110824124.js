import{fH as P,au as u,a0 as Y,$ as z,a1 as H,aI as U,af as Z,e8 as K,g as Q}from"./index-1730252110824.js";import"./index-1730252110824288.js";import E from"./Guide-17302521108242.js";import w from"./LineChart-1730252110824.js";import{q as S}from"./home-17302521108242.js";import{_ as j}from"./TimeSelect.vue_vue_type_script_setup_true_lang-17302521108242.js";import{d as W,k as d,ab as J,U as m,V as x,X as s,_ as t,f as e,$ as _,u as o,E as C,Z as v,F as tt,a1 as et,a4 as at,Y as st,af as ot,ag as nt}from"./vue-1730252110824.js";import"./index-1730252110824297.js";import"./index-1730252110824279.js";const h=y=>(ot("data-v-72007e55"),y=y(),nt(),y),lt={class:"card-dashboard-container"},ct={class:"data-statistics-item"},rt={class:"flow-info",style:{width:"100%"}},it=h(()=>t("div",{class:"label"},"昨日流量消耗",-1)),dt={class:"value"},_t=h(()=>t("span",{class:"unit"},"M",-1)),ut={class:"data-statistics-item"},mt={class:"flow-info",style:{width:"100%"}},pt=h(()=>t("div",{class:"label"},"当月流量消耗",-1)),ft={class:"value"},ht=h(()=>t("span",{class:"unit"},"M",-1)),vt={class:"data-statistics-item"},yt={class:"flow-info",style:{width:"100%"}},gt=h(()=>t("div",{class:"label"},"本年流量消耗",-1)),bt={class:"value"},wt=h(()=>t("span",{class:"unit"},"M",-1)),kt={class:"static-card"},Ot={key:1,class:"empty-body"},Tt={class:"static-card"},Dt={key:0,class:"rankingList"},Et={class:"cardNum"},xt={class:"progress"},Ct={class:"total"},At={key:1,class:"empty-body"},Ft=W({__name:"index",setup(y){const k=d(0),O=d(0),T=d(0),A=d([]),F=d([]),L=d([]),D=d([]),g=d([]),M=d(0),V=[{label:"昨日",value:"yesterday"},{label:"近一周",value:"week"},{label:"近一月",value:"month"},{label:"近一年",value:"year"}],b=(l,i)=>new Promise(n=>{S(l,i,{orderBy:"date"}).then(a=>{if(a.status===200){const c=a.result.sort((r,p)=>new Date(r.date).getTime()-new Date(p.date).getTime());n({sortArray:c})}})}),q=()=>{const l=[u().subtract(1,"day").startOf("day").valueOf(),u().subtract(1,"day").endOf("day").valueOf()],i=[u().startOf("month").valueOf(),u().endOf("month").valueOf()],n=[u().startOf("year").valueOf(),u().endOf("year").valueOf()];b(l[0],l[1]).then(a=>{k.value=a.sortArray.reduce((c,r)=>c+Number(r.value),0).toFixed(2),A.value=a.sortArray}),b(i[0],i[1]).then(a=>{O.value=a.sortArray.reduce((c,r)=>c+Number(r.value),0).toFixed(2),F.value=a.sortArray}),b(n[0],n[1]).then(a=>{T.value=a.sortArray.reduce((c,r)=>c+Number(r.value),0).toFixed(2),L.value=a.sortArray})},R=l=>{let i=l.start,n=l.end;l.type!=="day"&&(i=u(l.start).startOf("days").valueOf(),n=u(l.end).startOf("days").valueOf()),b(i,n).then(a=>{D.value=a.sortArray})},$=l=>{let i=l.start,n=l.end;S(i,n,{orderBy:"usage"}).then(a=>{if(a.status===200){const c=a.result.slice(0,10).sort((r,p)=>p.value-r.value);M.value=c.length?c[0].value:0,g.value=c}})};return q(),(l,i)=>{const n=Y,a=z,c=H,r=U,p=J("FullPage"),N=Z,G=K,X=J("page-container");return m(),x(X,null,{default:s(()=>[t("div",lt,[e(r,{style:{"margin-bottom":"24px"}},{default:s(()=>[e(c,{gutter:24},{default:s(()=>[e(n,{span:24},{default:s(()=>[e(E,{title:"数据统计"})]),_:1}),e(n,{span:8},{default:s(()=>[t("div",ct,[t("div",rt,[it,e(a,{placement:"bottomLeft"},{title:s(()=>[t("span",null,_(o(k))+" M",1)]),default:s(()=>[t("div",dt,[C(_(o(k))+" ",1),_t])]),_:1})]),e(w,{color:"#FBA500",chartData:o(A)},null,8,["chartData"])])]),_:1}),e(n,{span:8},{default:s(()=>[t("div",ut,[t("div",mt,[pt,e(a,{placement:"bottomLeft"},{title:s(()=>[t("span",null,_(o(O))+" M",1)]),default:s(()=>[t("div",ft,[C(_(o(O))+" ",1),ht])]),_:1})]),e(w,{chartData:o(F)},null,8,["chartData"])])]),_:1}),e(n,{span:8},{default:s(()=>[t("div",vt,[t("div",yt,[gt,e(a,{placement:"bottomLeft"},{title:s(()=>[t("span",null,_(o(T))+" M",1)]),default:s(()=>[t("div",bt,[C(_(o(T))+" ",1),wt])]),_:1})]),e(w,{color:"#58E1D3",chartData:o(L)},null,8,["chartData"])])]),_:1})]),_:1})]),_:1}),e(c,{gutter:24},{default:s(()=>[e(n,{span:16},{default:s(()=>[t("div",kt,[e(E,{title:"流量统计"},{extra:s(()=>[e(j,{key:"flow-static",type:"week",quickBtnList:V,onChange:R})]),_:1}),o(D).length!==0?(m(),x(p,{key:0},{default:s(()=>[e(w,{showX:!0,showY:!0,style:{"min-height":"490px"},chartData:o(D)},null,8,["chartData"])]),_:1})):(m(),v("div",Ot,[e(N,{image:o(P).PRESENTED_IMAGE_SIMPLE},null,8,["image"])]))])]),_:1}),e(n,{span:8},{default:s(()=>[t("div",Tt,[e(E,{title:"流量使用TOP10"},{extra:s(()=>[e(j,{key:"flow-top10",quickBtn:!1,type:"week",onChange:$})]),_:1}),o(g).length!==0?(m(),x(p,{key:0},{default:s(()=>[o(g).length!==0?(m(),v("div",Dt,[(m(!0),v(tt,null,et(o(g),(f,I)=>{var B;return m(),v("div",{key:f.cardNum,class:"rankItem"},[t("div",{class:at(["number",`number-item-${I+1}`])},_(I+1),3),t("div",Et,_(f.cardNum),1),t("div",xt,[e(G,{strokeColor:"#ADC6FF",trailColor:"#E0E4E8",strokeLinecap:"butt",showInfo:!1,percent:Math.ceil(f.value/o(M)*100)},null,8,["percent"])]),t("div",Ct,_((B=f==null?void 0:f.value)==null?void 0:B.toFixed(2))+" M ",1)])}),128))])):st("",!0)]),_:1})):(m(),v("div",At,[e(N,{image:o(P).PRESENTED_IMAGE_SIMPLE},null,8,["image"])]))])]),_:1})]),_:1})])]),_:1})}}});const Vt=Q(Ft,[["__scopeId","data-v-72007e55"]]);export{Vt as default};
