import{dL as h,dK as v,aD as w,a6 as S}from"./index-1730252110824.js";import{d as V,k as i,s as p,U as d,V as f,X as m,Z as k,F as C,a1 as P,u as g,W as x,E as D,$ as I,G as L}from"./vue-1730252110824.js";const c=new Map,B=(e,a,s)=>new Promise(async o=>{var l;if(!e||!a||!s)o([]);else if(c.get(e))o(c.get(e));else{let n;if(s==="POINT"?n=await h(a,{terms:[{terms:[{column:"collectorId",value:e}]}]}):n=await v(a,{terms:[{terms:[{column:"channelId",value:e}]}]}),n&&n.status===200){const t=((l=n.result)==null?void 0:l[0])||[];c.set(e,t),o(t)}}}),E=B,O=V({__name:"MSelect",props:{modelValue:{type:String,default:void 0},type:{type:String,default:"POINT"},id:{type:String,default:""},edgeId:{type:String,default:""},provider:{type:String,default:""}},emits:["update:modelValue","update:provider","change"],setup(e,{emit:a}){const s=e,o=i([]),l=i(void 0);p(()=>{l.value=s.modelValue});const n=(t,u)=>{a("update:modelValue",t),a("update:provider",u==null?void 0:u.provider),a("change",t)};return p(()=>{E(s.id,s.edgeId,s.type).then(t=>{o.value=t})}),(t,u)=>{const y=w,_=S;return d(),f(_,{allowClear:"",value:g(l),"onUpdate:value":u[0]||(u[0]=r=>L(l)?l.value=r:null),onChange:n,placeholder:"请选择",style:{width:"100%"}},{default:m(()=>[(d(!0),k(C,null,P(g(o),r=>(d(),f(y,x(r,{key:r.id,value:r.id,label:r.name,showSearch:""}),{default:m(()=>[D(I(r.name),1)]),_:2},1040,["value","label"]))),128))]),_:1},8,["value"])}}});export{O as _};
