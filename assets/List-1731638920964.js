import{d as I,g as L}from"./index-1731638920964.js";import B from"./index-1731638920964219.js";import A from"./Item-17316389209643.js";import{u as S}from"./scene-17316389209642.js";import{d as N,ai as V,k as w,e as D,ab as E,U as i,Z as f,F,a1 as G,V as h,u as s,_ as T,f as y,X as b,E as j,a4 as z,Y as J}from"./vue-1731638920964.js";import"./ActionTypeComponent.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./index.vue_vue_type_script_setup_true_lang-173163892096430.js";import"./index-1731638920964220.js";import"./index-1731638920964286.js";import"./NotifyWay-1731638920964.js";import"./config-17316389209642.js";import"./NotifyConfig.vue_vue_type_style_index_0_lang-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./const-17316389209642.js";import"./NotifyTemplate.vue_vue_type_style_index_0_lang-1731638920964.js";import"./template-1731638920964.js";import"./VariableDefinitions.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./BuildIn.vue_vue_type_script_setup_true_name_NotifyBuildIn_lang-1731638920964.js";import"./scene-1731638920964.js";import"./Org.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./Tag.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./InputFile.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./User.vue_vue_type_script_setup_true_name_NotifyUser_lang-1731638920964.js";import"./unionBy-1731638920964.js";import"./index-1731638920964218.js";import"./index-1731638920964287.js";import"./Product-17316389209643.js";import"./product-17316389209644.js";import"./category-1731638920964.js";import"./department-17316389209642.js";import"./setting-17316389209642.js";import"./index.vue_vue_type_script_setup_true_name_Device_lang-1731638920964.js";import"./TopCard-17316389209646.js";import"./Device-1731638920964.js";import"./Tag-1731638920964.js";import"./RelationSelect.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./util-17316389209642.js";import"./util-17316389209645.js";import"./lodash.default-1731638920964.js";import"./throttle-1731638920964.js";import"./min-1731638920964.js";import"./isNil-1731638920964.js";import"./isUndefined-1731638920964.js";import"./difference-1731638920964.js";import"./flattenDeep-1731638920964.js";import"./sortBy-1731638920964.js";import"./uniqBy-1731638920964.js";import"./toLower-1731638920964.js";import"./index.vue_vue_type_script_setup_true_name_ActionDeviceActions_lang-1731638920964.js";import"./EditTable.vue_vue_type_script_setup_true_lang-17316389209642.js";import"./FunctionItem.vue_vue_type_script_setup_true_name_FunctionItem_lang-1731638920964.js";import"./index-1731638920964223.js";import"./typings-1731638920964.js";import"./DropdownButton.vue_vue_type_style_index_0_scoped_011bae6b_lang-1731638920964.js";import"./Menus-1731638920964.js";import"./util-17316389209643.js";import"./Time.vue_vue_type_style_index_0_lang-1731638920964.js";import"./Array.vue_vue_type_style_index_0_scoped_59b5dd9b_lang-1731638920964.js";import"./Double.vue_vue_type_script_setup_true_name_DoubleParamsDropdown_lang-1731638920964.js";import"./index-1731638920964310.js";import"./WriteProperty.vue_vue_type_script_setup_true_lang-1731638920964.js";import"./CardSelect-1731638920964.js";import"./index-1731638920964221.js";import"./AlarmModal-1731638920964.js";import"./useRequest-1731638920964.js";import"./useAlarmLevel-1731638920964.js";import"./config-1731638920964.js";import"./configuration-1731638920964.js";import"./util-1731638920964.js";import"./FilterGroup.vue_vue_type_script_setup_true_name_FilterGroup_lang-1731638920964.js";import"./DropdownButton-1731638920964.js";import"./FilterCondition.vue_vue_type_script_setup_true_name_FilterCondition_lang-1731638920964.js";import"./CheckFilterItem-1731638920964.js";import"./CheckItem.vue_vue_type_script_setup_true_name_ActionCheckItem_lang-1731638920964.js";const M={class:"action-list-content"},O=N({name:"ActionList"}),P=N({...O,props:{branchesName:{type:Number,default:0},type:{type:String,default:"serial"},actions:{type:Array,default:()=>[]},parallel:Boolean},emits:["delete","add"],setup(t,{emit:l}){const m=t,_=S(),{data:v}=V(_),a=w(!1),c=D(()=>v.value.branches[m.branchesName].then.findIndex(e=>e.parallel===m.parallel)),k=()=>{a.value=!0},g=(e,p)=>{var r;const{type:d,...n}=e,o={...n,key:e.key,actionId:e.actionId,options:{...p,columns:((r=p.otherColumns)==null?void 0:r.filter(u=>u))||[]}};l("add",o),a.value=!1},C=()=>{a.value=!1},x=e=>{l("delete",e)};return(e,p)=>{const d=E("AIcon"),n=I;return i(),f("div",M,[(i(!0),f(F,null,G(t.actions,(o,r)=>(i(),h(A,{key:o.key,parallel:t.parallel,data:o,branchesName:t.branchesName,thenName:s(c),name:r,type:t.type,isLast:r===t.actions.length-1,options:o.options,onDelete:u=>x(o.key||"")},null,8,["parallel","data","branchesName","thenName","name","type","isLast","options","onDelete"]))),128)),T("div",{class:z(["actions-add-list",{border:m.actions.length}])},[y(n,{type:"primary",ghost:"",style:{width:"100%"},onClick:k},{icon:b(()=>[y(d,{type:"PlusOutlined"})]),default:b(()=>[j(" 添加执行动作 ")]),_:1})],2),s(a)?(i(),h(B,{key:0,parallel:t.parallel,name:t.actions.length,branchGroup:s(c),branchesName:t.branchesName,onSave:g,onCancel:C},null,8,["parallel","name","branchGroup","branchesName"])):J("",!0)])}}});const fe=L(P,[["__scopeId","data-v-addf1504"]]);export{fe as default};
