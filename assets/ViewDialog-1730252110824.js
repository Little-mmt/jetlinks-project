import{az as C,au as J,J as M,ah as H,ai as T,d as q,aa as E,g as F}from"./index-1730252110824.js";import"./index-1730252110824284.js";import{s as x}from"./index-1730252110824285.js";import{q as O}from"./config-1730252110824.js";import{d as $,k as Y,e as z,o as U,U as k,V as L,X as a,f as t,E as r,Z as D,_ as g,u as o,$ as c,F as P,Y as W,af as X,ag as Z}from"./vue-1730252110824.js";const V=p=>(X("data-v-bbee03b5"),p=p(),Z(),p),A={key:0},G=V(()=>g("div",{class:"label"},"通知流水:",-1)),K={style:{padding:"10px","background-color":"#fafafa",overflow:"auto",height:"200px"}},Q=V(()=>g("div",{class:"label"},"告警流水:",-1)),R={style:{padding:"10px","background-color":"#fafafa",height:"200px",overflow:"auto"}},ee=$({__name:"ViewDialog",props:{visible:{type:Boolean},data:{},type:{}},emits:["update:visible"],setup(p,{emit:I}){const e=p,y=Y([]),_=Y(),f=z(()=>{var d;return e.data.detailJson?JSON.parse(e.data.detailJson):((d=e.data)==null?void 0:d.detail)||e.data}),j=()=>{O().then(d=>{d.status===200&&(y.value=d.result.levels)})},B=d=>{if(y.value.length<1||!d)return"";const u=y.value.find(n=>n.level===d);return u==null?void 0:u.title};return U(()=>{var d,u,n,i,v,h,N,m,w;if(["device-transparent-codec","system-event"].includes((d=e==null?void 0:e.data)==null?void 0:d.topicProvider)||j(),["workflow-task-cc","workflow-task-todo","workflow-task-reject","workflow-process-finish","workflow-process-repealed","workflow-task-transfer-todo"].includes((u=e==null?void 0:e.data)==null?void 0:u.topicProvider)){const S={terms:[{type:"or",value:["workflow-process-finish","workflow-process-repealed"].includes((n=e==null?void 0:e.data)==null?void 0:n.topicProvider)?(i=e==null?void 0:e.data)==null?void 0:i.dataId:(v=e==null?void 0:e.data)!=null&&v.detailJson?(N=JSON.parse((h=e==null?void 0:e.data)==null?void 0:h.detailJson))==null?void 0:N.processId:(w=(m=e==null?void 0:e.data)==null?void 0:m.detail)==null?void 0:w.processId,termType:"eq",column:"id"}]};C(S).then(l=>{var s,b;_.value={topicProvider:(s=e==null?void 0:e.data)==null?void 0:s.topicProvider,...(b=l==null?void 0:l.result)==null?void 0:b[0]}})}}),(d,u)=>{const n=M,i=H,v=T,h=q,N=E;return k(),L(N,{visible:"",title:"详情",width:"754px",onCancel:u[1]||(u[1]=m=>I("update:visible",!1)),class:"view-dialog-container"},{footer:a(()=>[t(h,{type:"primary",onClick:u[0]||(u[0]=m=>I("update:visible",!1))},{default:a(()=>[r("确定")]),_:1})]),default:a(()=>{var m,w,S;return[["device-transparent-codec","system-event"].includes((m=d.data)==null?void 0:m.topicProvider)?(k(),D("div",A,[G,g("div",K,[t(o(x),{value:d.data,expandDepth:10},null,8,["value"])])])):["workflow-task-cc","workflow-task-todo","workflow-task-reject","workflow-process-finish","workflow-process-repealed","workflow-task-transfer-todo"].includes((w=d.data)==null?void 0:w.topicProvider)?(k(),L(v,{key:1,column:2,contentStyle:{color:"#333333"},labelStyle:{color:"rgba(0, 0, 0, 0.6)",width:"72px"}},{default:a(()=>[t(i,{label:"发起人"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c((l=o(_))==null?void 0:l.creatorName),1)]}),_:1})]),_:1}),t(i,{label:"发起时间"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c(o(J)((l=o(_))==null?void 0:l.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]}),_:1})]),_:1}),t(i,{label:"流程分类"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c((l=o(_))==null?void 0:l.classifiedName),1)]}),_:1})]),_:1}),t(i,{label:"流程名称"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c((l=o(_))==null?void 0:l.modelName),1)]}),_:1})]),_:1}),t(i,{label:"标题"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c((l=o(_))==null?void 0:l.name),1)]}),_:1})]),_:1}),t(i,{label:"摘要"},{default:a(()=>[t(n,null,{default:a(()=>{var l;return[r(c((l=o(_))==null?void 0:l.summary),1)]}),_:1})]),_:1})]),_:1},8,["labelStyle"])):(k(),D(P,{key:2},[t(v,{column:2,contentStyle:{color:"#333333"},labelStyle:{color:"rgba(0, 0, 0, 0.6)",width:"72px"}},{default:a(()=>{var l;return[((l=d.data)==null?void 0:l.topicProvider)==="alarm-device"?(k(),D(P,{key:0},[t(i,{label:"告警设备"},{default:a(()=>[t(n,null,{default:a(()=>{var s;return[r(c(((s=o(f))==null?void 0:s.targetName)||""),1)]}),_:1})]),_:1}),t(i,{label:"设备ID"},{default:a(()=>[t(n,null,{default:a(()=>{var s;return[r(c(((s=o(f))==null?void 0:s.targetId)||""),1)]}),_:1})]),_:1})],64)):W("",!0),t(i,{label:"告警名称"},{default:a(()=>[t(n,null,{default:a(()=>{var s,b;return[r(c(((s=o(f))==null?void 0:s.alarmName)||((b=o(f))==null?void 0:b.alarmConfigName)||""),1)]}),_:1})]),_:1}),t(i,{label:"告警时间"},{default:a(()=>{var s;return[r(c(o(J)((s=o(f))==null?void 0:s.alarmTime).format("YYYY-MM-DD HH:mm:ss")),1)]}),_:1}),t(i,{label:"告警级别"},{default:a(()=>[r(c(o(y).length>0&&B(o(f).level)||""),1)]),_:1}),t(i,{label:"告警说明"},{default:a(()=>[t(n,null,{default:a(()=>{var s;return[r(c(((s=o(f))==null?void 0:s.description)||""),1)]}),_:1})]),_:1})]}),_:1},8,["labelStyle"]),g("div",null,[Q,g("div",R,[t(o(x),{style:{"background-color":"#fafafa"},value:JSON.parse(((S=o(f))==null?void 0:S.alarmInfo)||"{}")},null,8,["value"])])])],64))]}),_:1})}}});const de=F(ee,[["__scopeId","data-v-bbee03b5"]]);export{de as default};
