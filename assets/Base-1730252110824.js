import{k as O,ai as ve,w as we,e as Re,p as re,d as De,c as We,ad as Xe,r as de,b as Ze,aq as He,ar as Qe,ab as ge,U as n,Z as q,u as a,V as c,a8 as ea,X as p,_ as g,f as d,E as R,Y as I,$ as ne,F as aa,a4 as xe,q as ta,af as la,ag as sa}from"./vue-1730252110824.js";import{k as ua,a as na,eT as Te,e9 as _e,aC as Ue,eY as pa,o as oa,X as ia,L as da,T as va,aa as ra,aR as ca,cY as ya,Z as ma,I as fa,dd as ba,g as ga}from"./index-1730252110824.js";import{u as ce}from"./instance-1730252110824.js";import{u as Be}from"./product-17302521108245.js";import{M as xa}from"./context-1730252110824.js";import{a as Ta,b as _a}from"./columns-1730252110824.js";import{g as he}from"./utils-1730252110824.js";import Ua from"./Source-1730252110824.js";import"./ConfigParams.vue_vue_type_style_index_0_scoped_5c08861f_lang-1730252110824.js";import"./Metrics.vue_vue_type_script_setup_true_name_Metrics_lang-1730252110824.js";import ha from"./OtherSetting-1730252110824.js";import"./OutputParams.vue_vue_type_style_index_0_scoped_6ffcb997_lang-1730252110824.js";import"./ValueObject.vue_vue_type_script_setup_true_name_ValueObject_lang-1730252110824.js";import"./OtherConfigInfo.vue_vue_type_script_setup_true_name_OtherConfigInfo_lang-1730252110824.js";import"./Constraint-1730252110824.js";import{s as Pa}from"./product-17302521108244.js";import{u as ka,a as Sa}from"./metadata-17302521108242.js";import{_ as Ca}from"./PropertiesModal.vue_vue_type_script_setup_true_name_PropertiesModal_lang-1730252110824.js";import{_ as Oa}from"./FunctionModal.vue_vue_type_script_setup_true_name_FunctionModal_lang-1730252110824.js";import{_ as Ma}from"./EventModal.vue_vue_type_script_setup_true_name_EventModal_lang-1730252110824.js";import{_ as Va}from"./TagsModal.vue_vue_type_script_setup_true_name_TagsModal_lang-1730252110824.js";import{a as $,T as Pe,I as ke,D as Se,S as Ce,b as Oe,F as Me,c as Ve,B as Ne,O as ee,A as Ee,d as Na,G as Ea,E as Ia}from"./index-1730252110824294.js";import"./index-1730252110824295.js";import"./index-1730252110824293.js";import{E as wa}from"./data-17302521108244.js";import"./index-1730252110824304.js";import Ra from"./Import-1730252110824.js";import"./encodeQuery-1730252110824.js";import"./Source.vue_vue_type_style_index_0_scoped_5dc360f1_lang-1730252110824.js";import"./index.vue_vue_type_script_setup_true_name_VirtualRule_lang-1730252110824.js";import"./Rule.vue_vue_type_script_setup_true_name_Rule_lang-1730252110824.js";import"./ConfigModal.vue_vue_type_script_setup_true_name_ConfigModal_lang-1730252110824.js";import"./DataTypeObjectChild-1730252110824.js";import"./ModelButton-1730252110824.js";import"./OtherSetting.vue_vue_type_style_index_0_scoped_d8c8c8c1_lang-1730252110824.js";import"./index-1730252110824276.js";import"./index-1730252110824282.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./useRequest-1730252110824.js";import"./ValueItem-1730252110824.js";import"./item-17302521108242.js";import"./BooleanSelect-1730252110824.js";import"./isNil-1730252110824.js";import"./Type.vue_vue_type_script_setup_true_name_DataTypeSelect_lang-1730252110824.js";import"./index-1730252110824284.js";import"./index-1730252110824300.js";import"./JsonView-1730252110824.js";import"./index-1730252110824285.js";import"./data-17302521108243.js";import"./DetailModal-1730252110824.js";import"./index-1730252110824296.js";import"./sortBy-1730252110824.js";import"./lodash.default-1730252110824.js";import"./throttle-1730252110824.js";import"./min-1730252110824.js";import"./isUndefined-1730252110824.js";import"./difference-1730252110824.js";import"./flattenDeep-1730252110824.js";import"./unionBy-1730252110824.js";import"./uniqBy-1730252110824.js";import"./toLower-1730252110824.js";const Da=(s,o)=>{const U=ce(),J=Be(),_=O([]),x=O({}),r=O({}),L=O([]),{current:j}=ve(U),{detail:oe}=ve(J),ie=()=>{L.value=[],_.value=[],x.value={},r.value={}},w=te=>{if(!te)return;const D=new RegExp('"fileType":',"g"),A=te.replace(D,'"bodyType":'),y=JSON.parse(A||"{}"),B=o?(y==null?void 0:y[o])||[]:[];_.value=B;const G=B.map(E=>E.id);if(x.value={},r.value={},x.value.id=G,o==="properties"&&(x.value.source=G),s==="device"&&j.value.productMetadata){const E=JSON.parse(j.value.productMetadata),F=o?E[o]:[],f=(F==null?void 0:F.map(m=>m.id))||[];_.value.forEach(m=>{f.includes(m.id)&&(m.expands=Object.assign(m.expands||{},{isProduct:!0}))}),r.value.ids=f,r.value.id=f,r.value.name=f,o==="properties"&&(r.value.valueType=f,r.value.expands=f),o==="functions"&&(r.value.async=f,r.value.inputs=f,r.value.output=f,r.value.description=f),o==="events"&&(r.value.expands=f,r.value.outInput=f,r.value.properties=f,r.value.description=f),o==="tags"&&(r.value.valueType=f,r.value.readType=f,r.value.description=f)}L.value=B};return we(()=>[j.value.metadata,oe.value.metadata],()=>{ie(),w(s==="device"?j.value.metadata:oe.value.metadata)},{immediate:!0}),{data:L,metadata:_,noEdit:x,productNoEdit:r}},Ie=Da,ae=new Map;ae.set("events-add","eventNotInsertable");ae.set("events-update","eventNotModifiable");ae.set("properties-add","propertyNotInsertable");ae.set("properties-update","propertyNotModifiable");const Ba=s=>{const o=ce(),U=Re(()=>{var _;return s==="device"?((_=o.current)==null?void 0:_.features)||[]:[]});return{hasOperate:(_,x)=>!!U.value.find(r=>r.id===ae.get(`${x}-${_}`))}},La=Ba,$a=()=>{const s=O([]),o=_=>{s.value.some(x=>_.label===x.label)||s.value.push(_)},U=()=>{s.value=[]},J=_=>{U(),s.value=_.filter(x=>{var r;return x.id&&((r=x.extends)==null?void 0:r.group)}).map(x=>({label:x.group,value:x.group}))};return re(xa,{options:s,addOptions:o}),{cleanOptions:U,initOptions:J}},pe=s=>(la("data-v-2fb4d561"),s=s(),sa(),s),Ja={class:"metadata-base"},ja={class:"extra-header"},Aa={class:"extra-left"},Ga={key:1},Fa={style:{color:"#ff7875"}},Ka={class:"extra-center"},qa={key:0,class:"extra-copy-tip"},Ya={class:"extra-copy-tip-context"},za=pe(()=>g("span",null," 已复制 ",-1)),Wa=pe(()=>g("span",null,",",-1)),Xa=pe(()=>g("div",null,null,-1)),Za={class:"extra-right"},Ha={class:"noEdit-tip"},Qa=pe(()=>g("div",null," 该设备受所属产品的存储策略影响，无法进行删改、新增操作 ",-1)),et={key:0,style:{display:"flex","align-items":"center"}},at={key:1},tt={style:{display:"flex","align-items":"center"}},lt={class:"metadata-result-total"},st=De({name:"MetadataBase"}),ut=De({...st,props:{target:{type:String,default:"product"},type:{type:String,default:void 0},permission:{type:[String,Array],default:void 0}},setup(s){const o=s,U=We("_metadataType",o.target),J=ua(),{basicLayout:_}=ve(J),x=Xe(),{unitOptions:r}=Ta(),{data:L,noEdit:j,productNoEdit:oe}=Ie(U,o.type),{data:ie}=Ie(U,"tags"),{hasOperate:w}=La(U),te=na(),D=ce(),A=Be(),y=O(JSON.parse(JSON.stringify(L.value||"[]"))||[]),B=O(),G=O(!1),E=O(!1),F=O([]),f=O(!1),m=de({key:void 0,index:0,groupName:void 0}),ye=de({len:0,show:!1}),{initOptions:Le}=$a(),{columns:$e}=_a(y,o.type,U,j),S=de({data:{},visible:!1}),Je=O(!1),je=Re(()=>y.value.filter(u=>u.id).length),K=()=>f.value&&B.value.getTableWrapperRef()||document.body;re("_tagsDataSource",ie),re("metadataSource",y);const le=()=>{S.data={},S.visible=!1},Ae=(u=5)=>{w("add",o.type)||y.value.push(...new Array(u).fill(1).map(()=>he(o.type)))},Ge=(u,v,b)=>{const P=v.__dataIndex;switch(u){case"add":y.value.splice(P+1,0,he(o.type)),E.value=!0,ta(()=>{if(m.key){const C=y.value.find(Y=>Y.__key===m.key);m.index=C.__serial,m.groupName=C.expands.groupName}});break;case"paste":const h=JSON.parse(JSON.stringify(b));if(h.id=`copy_${h.id}`,o.type==="properties"){const C=y.value[P+1].expands;h.expands.groupName=C.groupName,h.expands.groupId=C.groupId}v.id?y.value.splice(P+1,0,h):y.value.splice(P,1,h),E.value=!0;break;case"copy":m.index=v.__serial,m.key=v.__key,m.groupName=y.value[v.__dataIndex].expands.groupName,F.value=[v.id];break;case"detail":S.data=v,S.visible=!0;break;case"delete":m.key===v.__key&&(m.key=void 0,m.groupName=void 0,m.index=0),y.value.splice(P,1),E.value=!0;break}},me=async u=>{let v=await B.value.validate();if(v){const b=[],P=v.map(V=>{var e;if((e=V.expands)!=null&&e.virtualRule){const i=V.expands.virtualRule.triggerProperties,l=Ue(V.expands.virtualRule,["triggerProperties"]);b.push({triggerProperties:i,rule:l,type:l.type,propertyId:V.id})}return{...V,expands:{...Ue(V.expands,["virtualRule"])}}});b.length&&(U==="device"?await pa(D.current.productId,D.current.id,b):await Pa(A.current.id,b));const h=V=>{if(U==="device"){const e=D.current;e.metadata=V,D.setCurrent(e)}else{const e=A.current||{};e.metadata=V,A.setCurrent(e)}},C=U==="device"?D.detail:A.current;let Y=ka(o.type,P,C,h);G.value=!0,(await Sa(U,Y).finally(()=>{G.value=!1})).success&&(E.value=!1,_e.config({getContainer(){return K()}}),oa("操作成功！"),u==null||u())}},M=()=>{E.value=!0},Fe=()=>{ia().jumpPage("device/Product/Detail",{id:D.detail.productId,tab:"Device"})},se=u=>{if(E.value&&te.hasPermission(`${o.permission}:update`)&&da.get(va)){const v=ra.confirm({content:"页面改动数据未保存",okText:"保存",cancelText:"不保存",zIndex:1400,closable:!0,onOk:()=>{me(u)},onCancel:b=>{if(!b.triggerCancel)v.destroy(),u==null||u();else{const P=x.currentRoute.value.matched;_.value.openKeys=P.map(h=>h.path)}}})}else u==null||u()},Ke=(u,v)=>{v(),f.value=!u},qe=u=>{y.value.forEach(v=>{var b;((b=v.expands)==null?void 0:b.groupId)===u.value&&(v.expands.groupName=u.label)})},Ye=u=>{y.value=y.value.filter(v=>{var b,P;return((b=v.expands)==null?void 0:b.groupId)!==u||((P=v.expands)==null?void 0:P.isProduct)})},ze=u=>{y.value=u};return Te.subscribe(["MetadataTabs"],se),Ze(()=>{_e.config({getContainer(){return document.body}}),Te.unSubscribe(["MetadataTabs"],se)}),we(()=>L.value,()=>{y.value=JSON.parse(JSON.stringify(L.value||"[]")).map(u=>(u.expands||(u.expands={group:void 0}),o.type==="functions"&&!u.output&&(u.output={}),u)),Le(y.value)},{immediate:!0}),He((u,v,b)=>{se(b)}),Qe((u,v,b)=>{se(b)}),(u,v)=>{const b=ca,P=ge("Ellipsis"),h=ge("AIcon"),C=ya,Y=ma,ue=fa,V=ba;return n(),q("div",Ja,[a(Je)?I("",!0):(n(),c(a(Ia),{key:0,ref_key:"tableRef",ref:B,"data-source":a(y),columns:a($e),height:560,disableMenu:!a(w)("add",s.type),openGroup:s.type==="properties",rowSelection:{selectedRowKeys:a(F)},onScrollDown:Ae,onRightMenuClick:Ge,onGroupEdit:qe,onGroupDelete:Ye},ea({extra:p(({isFullscreen:e,fullScreenToggle:i})=>[g("div",ja,[g("div",Aa,[d(b,null,{default:p(()=>[s.type==="properties"?(n(),c(a(Ra),{key:0,target:s.target,metadata:a(y),onOk:ze},null,8,["target","metadata"])):I("",!0),a(ye).show?(n(),q("span",Ga,[R(" 已查询到 "),g("span",Fa,ne(a(ye).len),1),R(" 条相关数据 ")])):I("",!0)]),_:1})]),g("div",Ka,[a(m).index?(n(),q("div",qa,[g("div",Ya,[za,s.type==="properties"?(n(),q(aa,{key:0},[d(P,{style:{"max-width":"120px"}},{default:p(()=>[R(ne(a(m).groupName),1)]),_:1}),Wa],64)):I("",!0),g("span",null," 第 "+ne(a(m).index)+" 行 ",1)]),Xa,g("div",{class:"extra-copy-tip-icon",onClick:v[0]||(v[0]=l=>a(m).index=0)},[d(h,{type:"CloseOutlined"})])])):I("",!0)]),g("div",Za,[d(C,{onClick:()=>Ke(e,i)},{icon:p(()=>[d(h,{type:e?"FullscreenExitOutlined":"FullscreenOutlined"},null,8,["type"])]),_:2},1032,["onClick"]),d(Y,{type:"primary",key:"update",placement:"topRight",hasPermission:`${s.permission}:update`,loading:a(G),disabled:a(w)("add",s.type),tooltip:{title:a(w)("add",s.type)?"当前的存储方式不支持删改、新增":"保存",placement:a(w)("add",s.type)?"topRight":"top",getPopupContainer:K},onClick:v[1]||(v[1]=l=>me())},{default:p(()=>[R(" 保存 ")]),_:1},8,["hasPermission","loading","disabled","tooltip"])])])]),id:p(({record:e,index:i})=>[d(a($),{name:[i,"id"],onChange:M},{default:p(()=>{var l;return[d(ue,{value:e.id,"onUpdate:value":T=>e.id=T,placeholder:"请输入标识",disabled:(l=e.expands)==null?void 0:l.isProduct},null,8,["value","onUpdate:value","disabled"])]}),_:2},1032,["name"])]),name:p(({record:e,index:i})=>[d(a($),{name:[i,"name"],onChange:M},{default:p(()=>{var l;return[d(ue,{value:e.name,"onUpdate:value":T=>e.name=T,placeholder:"请输入名称",disabled:(l=e.expands)==null?void 0:l.isProduct},null,8,["value","onUpdate:value","disabled"])]}),_:2},1032,["name"])]),valueType:p(({record:e,index:i})=>[d(a($),{name:[i,"valueType"],onChange:M},{default:p(()=>{var l,T,N,k,z,W,X,Z,H,Q;return[["properties","tags"].includes(s.type)?(n(),q("div",et,[d(a(Pe),{value:e.valueType,"onUpdate:value":t=>e.valueType=t,style:{flex:"1 1 0","min-width":"0"},disabled:(l=e.expands)==null?void 0:l.isProduct},null,8,["value","onUpdate:value","disabled"]),["int","long"].includes(e.valueType.type)?(n(),c(a(ke),{key:0,value:e.valueType.unit,"onUpdate:value":t=>e.valueType.unit=t,disabled:(T=e.expands)==null?void 0:T.isProduct},null,8,["value","onUpdate:value","disabled"])):["float","double"].includes(e.valueType.type)?(n(),c(a(Se),{key:1,value:e.valueType,"onUpdate:value":t=>e.valueType=t,disabled:(N=e.expands)==null?void 0:N.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="string"?(n(),c(a(Ce),{key:2,value:e.valueType,"onUpdate:value":t=>e.valueType=t,disabled:(k=e.expands)==null?void 0:k.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="date"?(n(),c(a(Oe),{key:3,value:e.valueType.format,"onUpdate:value":t=>e.valueType.format=t,disabled:(z=e.expands)==null?void 0:z.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="file"?(n(),c(a(Me),{key:4,value:e.valueType.bodyType,"onUpdate:value":t=>e.valueType.bodyType=t,disabled:(W=e.expands)==null?void 0:W.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="enum"?(n(),c(a(Ve),{key:5,value:e.valueType.elements,"onUpdate:value":t=>e.valueType.elements=t,disabled:(X=e.expands)==null?void 0:X.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="boolean"?(n(),c(a(Ne),{key:6,falseText:e.valueType.falseText,"onUpdate:falseText":t=>e.valueType.falseText=t,falseValue:e.valueType.falseValue,"onUpdate:falseValue":t=>e.valueType.falseValue=t,trueText:e.valueType.trueText,"onUpdate:trueText":t=>e.valueType.trueText=t,trueValue:e.valueType.trueValue,"onUpdate:trueValue":t=>e.valueType.trueValue=t,disabled:(Z=e.expands)==null?void 0:Z.isProduct},null,8,["falseText","onUpdate:falseText","falseValue","onUpdate:falseValue","trueText","onUpdate:trueText","trueValue","onUpdate:trueValue","disabled"])):e.valueType.type==="object"?(n(),c(a(ee),{key:7,value:e.valueType.properties,"onUpdate:value":t=>e.valueType.properties=t,disabled:(H=e.expands)==null?void 0:H.isProduct},null,8,["value","onUpdate:value","disabled"])):e.valueType.type==="array"?(n(),c(a(Ee),{key:8,value:e.valueType.elementType,"onUpdate:value":t=>e.valueType.elementType=t,disabled:(Q=e.expands)==null?void 0:Q.isProduct},null,8,["value","onUpdate:value","disabled"])):I("",!0)])):s.type==="events"?(n(),q("div",at,[d(a(ee),{value:e.valueType.properties,"onUpdate:value":t=>e.valueType.properties=t},{default:p(()=>{var t,fe;return[d(C,{type:"primary",disabled:(t=e.expands)==null?void 0:t.isProduct,danger:!((fe=e.valueType.properties)!=null&&fe.length)&&e.id},{icon:p(()=>{var be;return[d(h,{type:"EditOutlined",class:xe({"table-form-required-aicon":!((be=e.valueType.properties)!=null&&be.length)})},null,8,["class"])]}),default:p(()=>[R(" 配置 ")]),_:2},1032,["disabled","danger"])]}),_:2},1032,["value","onUpdate:value"])])):I("",!0)]}),_:2},1032,["name"])]),expands:p(({record:e,index:i})=>[d(a($),{name:[i,"expands"],onChange:M},{default:p(()=>{var l,T,N;return[o.type==="properties"?(n(),c(a(Ua),{key:0,value:e.expands,"onUpdate:value":k=>e.expands=k,isProduct:(l=e.expands)==null?void 0:l.isProduct,target:s.target,record:e,disabled:(T=e.expands)==null?void 0:T.isProduct},null,8,["value","onUpdate:value","isProduct","target","record","disabled"])):o.type==="events"?(n(),c(V,{key:1,value:e.expands.level,"onUpdate:value":k=>e.expands.level=k,style:{width:"100%"},options:a(wa),getPopupContainer:k=>a(B).tableWrapperRef||k,disabled:(N=e.expands)==null?void 0:N.isProduct},null,8,["value","onUpdate:value","options","getPopupContainer","disabled"])):I("",!0)]}),_:2},1032,["name"])]),other:p(({record:e})=>{var i,l,T,N;return[g("div",null,[d(a(ha),{value:e.expands,"onUpdate:value":k=>e.expands=k,type:["functions","events"].includes(o.type)?"object":(i=e.valueType)==null?void 0:i.type,id:e.id,name:e.name,metadataType:o.type,isProduct:(l=e.expands)==null?void 0:l.isProduct,target:o.target,record:e,disabled:((T=e.expands)==null?void 0:T.isProduct)&&!["int","long","float","double"].includes((N=e.valueType)==null?void 0:N.type),onChange:M},null,8,["value","onUpdate:value","type","id","name","metadataType","isProduct","target","record","disabled"])])]}),async:p(({record:e})=>{var i;return[d(a(Na),{value:e.async,"onUpdate:value":l=>e.async=l,style:{width:"100%"},trueLabel:"是",falseLabel:"否","true-value":!0,"false-value":!1,disabled:(i=e.expands)==null?void 0:i.isProduct,onChange:M},null,8,["value","onUpdate:value","disabled"])]}),inputs:p(({record:e,index:i})=>[d(a($),{name:[i,"inputs"],onChange:M},{default:p(()=>[d(a(ee),{value:e.inputs,"onUpdate:value":l=>e.inputs=l,type:s.type},{default:p(()=>{var l;return[d(C,{type:"primary",disabled:(l=e.expands)==null?void 0:l.isProduct},{icon:p(()=>[d(h,{type:"EditOutlined",class:xe({"table-form-required-aicon":!e.inputs.length})},null,8,["class"])]),default:p(()=>[R(" 配置 ")]),_:2},1032,["disabled"])]}),_:2},1032,["value","onUpdate:value","type"])]),_:2},1032,["name"])]),output:p(({record:e,index:i})=>[d(a($),{name:[i,"output"],onChange:M},{default:p(()=>{var l,T,N,k,z,W,X,Z,H,Q;return[g("div",tt,[d(a(Pe),{value:e.output,"onUpdate:value":t=>e.output=t,style:{flex:"1 1 0","min-width":"0"},disabled:(l=e.expands)==null?void 0:l.isProduct},null,8,["value","onUpdate:value","disabled"]),["int","long"].includes(e.output.type)?(n(),c(a(ke),{key:0,value:e.output.unit,"onUpdate:value":t=>e.output.unit=t,disabled:(T=e.expands)==null?void 0:T.isProduct},null,8,["value","onUpdate:value","disabled"])):["float","double"].includes(e.output.type)?(n(),c(a(Se),{key:1,value:e.output,"onUpdate:value":t=>e.output=t,disabled:(N=e.expands)==null?void 0:N.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="string"?(n(),c(a(Ce),{key:2,value:e.output.maxLength,"onUpdate:value":t=>e.output.maxLength=t,disabled:(k=e.expands)==null?void 0:k.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="date"?(n(),c(a(Oe),{key:3,value:e.output.format,"onUpdate:value":t=>e.output.format=t,disabled:(z=e.expands)==null?void 0:z.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="file"?(n(),c(a(Me),{key:4,value:e.output.bodyType,"onUpdate:value":t=>e.output.bodyType=t,disabled:(W=e.expands)==null?void 0:W.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="enum"?(n(),c(a(Ve),{key:5,value:e.output.elements,"onUpdate:value":t=>e.output.elements=t,disabled:(X=e.expands)==null?void 0:X.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="boolean"?(n(),c(a(Ne),{key:6,falseText:e.output.falseText,"onUpdate:falseText":t=>e.output.falseText=t,falseValue:e.output.falseValue,"onUpdate:falseValue":t=>e.output.falseValue=t,trueText:e.output.trueText,"onUpdate:trueText":t=>e.output.trueText=t,trueValue:e.output.trueValue,"onUpdate:trueValue":t=>e.output.trueValue=t,disabled:(Z=e.expands)==null?void 0:Z.isProduct},null,8,["falseText","onUpdate:falseText","falseValue","onUpdate:falseValue","trueText","onUpdate:trueText","trueValue","onUpdate:trueValue","disabled"])):e.output.type==="object"?(n(),c(a(ee),{key:7,value:e.output.properties,"onUpdate:value":t=>e.output.properties=t,disabled:(H=e.expands)==null?void 0:H.isProduct},null,8,["value","onUpdate:value","disabled"])):e.output.type==="array"?(n(),c(a(Ee),{key:8,value:e.output.elementType,"onUpdate:value":t=>e.output.elementType=t,disabled:(Q=e.expands)==null?void 0:Q.isProduct},null,8,["value","onUpdate:value","disabled"])):I("",!0)])]}),_:2},1032,["name"])]),description:p(({record:e})=>{var i;return[d(ue,{value:e.description,"onUpdate:value":l=>e.description=l,placeholder:"请输入说明",disabled:(i=e.expands)==null?void 0:i.isProduct,onChange:M},null,8,["value","onUpdate:value","disabled"])]}),properties:p(({record:e,index:i})=>[d(a($),{name:[i,"properties"],onChange:M},{default:p(()=>{var l;return[d(a(ee),{value:e.valueType.properties,"onUpdate:value":T=>e.valueType.properties=T,disabled:(l=e.expands)==null?void 0:l.isProduct},null,8,["value","onUpdate:value","disabled"])]}),_:2},1032,["name"])]),group:p(({record:e})=>{var i;return[d(a(Ea),{value:e.expands.group,"onUpdate:value":l=>e.expands.group=l,disabled:(i=e.expands)==null?void 0:i.isProduct,onChange:M},null,8,["value","onUpdate:value","disabled"])]}),_:2},[a(w)("add",s.type)?{name:"bodyExtra",fn:p(()=>[g("div",Ha,[Qa,g("div",null,[d(C,{type:"link",onClick:Fe,style:{"font-size":"20px"}},{default:p(()=>[R("修改存储策略")]),_:1})])])]),key:"0"}:void 0]),1032,["data-source","columns","disableMenu","openGroup","rowSelection"])),g("div",null,[R(" 可编辑数据列表共 "),g("span",lt,ne(a(je)),1),R(" 条数据 ")]),s.type==="properties"&&a(S).visible?(n(),c(a(Ca),{key:1,data:a(S).data,type:s.target,getPopupContainer:K,unitOptions:a(r),onCancel:le},null,8,["data","type","unitOptions"])):s.type==="functions"&&a(S).visible?(n(),c(a(Oa),{key:2,data:a(S).data,getPopupContainer:K,onCancel:le},null,8,["data"])):s.type==="events"&&a(S).visible?(n(),c(a(Ma),{key:3,data:a(S).data,getPopupContainer:K,onCancel:le},null,8,["data"])):s.type==="tags"&&a(S).visible?(n(),c(a(Va),{key:4,data:a(S).data,getPopupContainer:K,unitOptions:a(r),onCancel:le},null,8,["data","unitOptions"])):I("",!0)])}}});const ml=ga(ut,[["__scopeId","data-v-2fb4d561"]]);export{ml as default};
