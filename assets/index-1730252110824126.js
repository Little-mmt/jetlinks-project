import{d as W,ad as K,ac as B,k as I,r as R,e as J,ab as L,U as i,V as T,X as l,f as a,u as e,Z as c,Y as v,E as V}from"./vue-1730252110824.js";import{o as F,aH as E,v as P,I as H,w as M,a9 as O,x as X,d as Y,F as Z,a0 as z,a1 as G,aI as Q}from"./index-1730252110824.js";import"./index-1730252110824288.js";import"./index-1730252110824287.js";import $ from"./PlatformType-1730252110824.js";import{q as h,s as ee,u as ae}from"./platform-1730252110824.js";import oe from"./index-1730252110824127.js";import{p as te}from"./data-17302521108245.js";import"./index-1730252110824298.js";const se={key:0},le={key:1},de={key:2},be=W({__name:"index",setup(ne){const y=K(),u=B(),m=I(),_=I(!1),o=R({operatorName:"onelink",name:void 0,appId:void 0,passWord:void 0,apiAddr:void 0,userId:void 0,secretKey:void 0,appSecret:void 0,openId:void 0,explain:void 0}),x={name:[{required:!0,message:"请输入名称"},{max:64,message:"最多可输入64个字符"}],appId:[{required:!0,message:"请输入App ID"},{max:64,message:"最多可输入64个字符"}],passWord:[{required:!0,message:"请输入密码"},{max:64,message:"最多可输入64个字符"}],apiAddr:[{required:!0,message:"请输入接口地址"}],userId:[{required:!0,message:"请输入用户 ID"},{max:64,message:"最多可输入64个字符"}],secretKey:[{required:!0,message:"请输入secretKey"},{max:64,message:"最多可输入64个字符"}],appSecret:[{required:!0,message:"请输入App Secret"},{max:64,message:"最多可输入64个字符"}],openId:[{required:!0,message:"请输入创建者ID"},{max:64,message:"最多可输入64个字符"}],explain:[{required:!1,max:200,message:"最多可输入200个字符"}]},r=J(()=>u.params.id!==":id"),A=async()=>{if(console.log(u.params),u.params.id===":id")return;const d=await h(u.params.id);d.status===200&&Object.assign(o,d.result,{...d.result.config})},D=d=>{m.value.resetFields(),o.operatorName=d},w=async()=>{const d=await m.value.validate(),t={operatorName:d.operatorName,name:d.name,config:{appId:d.appId,passWord:d.passWord,apiAddr:d.apiAddr,userId:d.userId,secretKey:d.secretKey,appSecret:d.appSecret,openId:d.openId},explain:d.explain};_.value=!0,(u.params.id===":id"?await ee(t):await ae({id:u.params.id,...t})).status===200&&(F("保存成功！"),y.back()),_.value=!1};return A(),(d,t)=>{const f=E,n=P,p=H,b=M,N=O,U=X,j=Y,k=Z,g=z,q=G,C=Q,S=L("page-container");return i(),T(S,null,{default:l(()=>[a(C,null,{default:l(()=>[a(q,{gutter:24},{default:l(()=>[a(g,{span:14},{default:l(()=>[a(f,{data:"详情"}),a(k,{layout:"vertical",ref_key:"formRef",ref:m,rules:x,model:e(o)},{default:l(()=>[a(n,{label:"平台类型",name:"operatorName",required:""},{default:l(()=>[a($,{disabled:e(r),model:"singular",itemStyle:{display:"flex",flexDirection:"column",justifyContent:"space-around",minWidth:"130px"},options:e(te),value:e(o).operatorName,"onUpdate:value":t[0]||(t[0]=s=>e(o).operatorName=s),onChange:D},null,8,["disabled","options","value"])]),_:1}),a(n,{label:"名称",name:"name"},{default:l(()=>[a(p,{value:e(o).name,"onUpdate:value":t[1]||(t[1]=s=>e(o).name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1}),e(o).operatorName==="onelink"?(i(),c("div",se,[a(n,{label:"App ID",name:"appId"},{default:l(()=>[a(p,{value:e(o).appId,"onUpdate:value":t[2]||(t[2]=s=>e(o).appId=s),disabled:e(r),placeholder:"请输入App ID"},null,8,["value","disabled"])]),_:1}),a(n,{label:"Password",name:"passWord"},{default:l(()=>[a(b,{value:e(o).passWord,"onUpdate:value":t[3]||(t[3]=s=>e(o).passWord=s),disabled:e(r),placeholder:"请输入密码"},null,8,["value","disabled"])]),_:1}),a(n,{label:"接口地址",name:"apiAddr"},{default:l(()=>[a(p,{value:e(o).apiAddr,"onUpdate:value":t[4]||(t[4]=s=>e(o).apiAddr=s),disabled:e(r),placeholder:"请输入接口地址"},null,8,["value","disabled"])]),_:1})])):v("",!0),e(o).operatorName==="ctwing"?(i(),c("div",le,[a(n,{label:"用户id",name:"userId"},{default:l(()=>[a(p,{value:e(o).userId,"onUpdate:value":t[5]||(t[5]=s=>e(o).userId=s),disabled:e(r),placeholder:"请输入用户id"},null,8,["value","disabled"])]),_:1}),a(n,{label:"密码",name:"passWord"},{default:l(()=>[a(b,{value:e(o).passWord,"onUpdate:value":t[6]||(t[6]=s=>e(o).passWord=s),disabled:e(r),placeholder:"请输入密码"},null,8,["value","disabled"])]),_:1}),a(n,{label:"secretKey",name:"secretKey"},{default:l(()=>[a(p,{value:e(o).secretKey,"onUpdate:value":t[7]||(t[7]=s=>e(o).secretKey=s),disabled:e(r),placeholder:"请输入secretKey"},null,8,["value","disabled"])]),_:1})])):v("",!0),e(o).operatorName==="unicom"?(i(),c("div",de,[a(n,{label:"App ID",name:"appId"},{default:l(()=>[a(p,{value:e(o).appId,"onUpdate:value":t[8]||(t[8]=s=>e(o).appId=s),disabled:e(r),placeholder:"请输入App ID"},null,8,["value","disabled"])]),_:1}),a(n,{label:"App Secret",name:"appSecret"},{default:l(()=>[a(p,{value:e(o).appSecret,"onUpdate:value":t[9]||(t[9]=s=>e(o).appSecret=s),disabled:e(r),placeholder:"请输入App Secret"},null,8,["value","disabled"])]),_:1}),a(n,{label:"创建者ID",name:"openId"},{default:l(()=>[a(p,{value:e(o).openId,"onUpdate:value":t[10]||(t[10]=s=>e(o).openId=s),disabled:e(r),placeholder:"请输入创建者ID"},null,8,["value","disabled"])]),_:1})])):v("",!0),a(n,{label:"说明",name:"explain"},{default:l(()=>[a(N,{value:e(o).explain,"onUpdate:value":t[11]||(t[11]=s=>e(o).explain=s),placeholder:"请输入说明",showCount:"",rows:3,maxlength:200},null,8,["value"])]),_:1}),a(n,null,{default:l(()=>[a(U),a(j,{loading:e(_),type:"primary",onClick:w},{default:l(()=>[V(" 保存 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),a(g,{span:10},{default:l(()=>[a(oe,{type:e(o).operatorName},null,8,["type"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{be as default};
