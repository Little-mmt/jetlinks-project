import{o as h,e as P,aG as x,aa as I,g as k}from"./index-1731638920964.js";import"./index-1731638920964280.js";import{f as C}from"./department-17316389209642.js";import{d as L,k as E,r as A,e as B,ab as S,U as j,V as w,X as _,_ as i,f as p,u as a,af as D,ag as V}from"./vue-1731638920964.js";const m=o=>(D("data-v-739de0b5"),o=o(),V(),o),J={class:"alert-info"},M=m(()=>i("span",null,"只能分配有'共享'权限的资产数据",-1)),N={style:{"margin-top":"5px"}},O=m(()=>i("span",null,"资产权限：",-1)),T=L({__name:"EditPermissionDialog",props:{visible:{type:Boolean},ids:{},permissionList:{},parentId:{},allPermission:{},assetType:{},defaultPermission:{}},emits:["confirm","update:visible"],setup(o,{emit:n}){var d;const s=o,t=E(!1),u=()=>{t.value=!0,C(s.assetType,s.parentId,l).then(()=>{h("操作成功"),n("confirm"),n("update:visible",!1)}).finally(()=>t.value=!1)},l=A({assetIdList:[...s.ids],permission:Array.isArray(s.defaultPermission)&&((d=s.defaultPermission)!=null&&d.length)?s.defaultPermission:["read"]}),f=B(()=>{const r=[];return s.allPermission.forEach(e=>{s.permissionList.includes(e.id)&&r.push({label:e.name,value:e.id,disabled:e.id==="read"})}),r});return(r,e)=>{const v=S("AIcon"),g=P,b=x,y=I;return j(),w(y,{class:"edit-permission-dialog-container",title:"编辑",width:"500px",onOk:u,maskClosable:!1,confirmLoading:a(t),visible:"",onCancel:e[1]||(e[1]=c=>n("update:visible",!1))},{default:_(()=>[i("div",J,[p(g,null,{default:_(()=>[p(v,{type:"ExclamationCircleOutlined"}),M]),_:1})]),i("div",N,[O,p(b,{value:a(l).permission,"onUpdate:value":e[0]||(e[0]=c=>a(l).permission=c),options:a(f)},null,8,["value","options"])])]),_:1},8,["confirmLoading"])}}});const q=k(T,[["__scopeId","data-v-739de0b5"]]);export{q as default};
