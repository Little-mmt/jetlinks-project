import{d as C,k as m,e as U,s as F,ab as k,U as o,V as y,X as r,_ as g,Z as f,F as I,u as s,f as _,G as S,E as h,$ as b,Y as w,B as L,R as M,a4 as O}from"./vue-1731638920964.js";import{g5 as R,e as z,dg as G,af as X,aN as Y}from"./index-1731638920964.js";import"./index-1731638920964281.js";import Z from"./Menus-1731638920964.js";import{_ as q}from"./Time.vue_vue_type_style_index_0_lang-1731638920964.js";import{g as H}from"./util-17316389209643.js";const P={class:"scene-select-content"},Q={key:1,style:{"min-width":"400px"}},W={key:0,class:"tree-title-description"},ee={key:2,class:"scene-select-empty"},te=C({name:"DropdownButton"}),ce=C({...te,props:{icon:{type:String,default:""},placeholder:{type:String,default:void 0},value:{type:[String,Number,Boolean],default:void 0},valueName:{type:String,default:"value"},labelName:{type:String,default:"label"},options:{type:Array,default:()=>[]},type:{type:String,default:"column"},component:{type:String,default:"select"}},emits:["update:value","select"],setup(a,{emit:c}){const t=a,p=m(t.placeholder),u=m(t.value),n=m(!1),v=m([]),x=e=>{n.value=e},B=U(()=>({"dropdown-button":!0,[t.type]:!0})),D=(e,l)=>{const i=l.node;n.value=!1,p.value=i.fullName||i.name,u.value=e[0],c("update:value",i[t.valueName]),c("select",i)},K=e=>{u.value=e,n.value=!1,c("update:value",e),c("select",e)},V=(e,l)=>{u.value=e,n.value=!1,c("update:value",e),c("select",l)};return F(()=>{const e=H(t.options,t.value,t.valueName);u.value=t.value,e?(p.value=e[t.labelName]||e.name,v.value=R(t.options,t.value,t.valueName)):p.value=t.value!==void 0?t.value:t.placeholder}),(e,l)=>{const i=k("AIcon"),E=k("Ellipsis"),j=z,$=G,A=X,J=Y;return o(),y(J,{class:"scene-select",trigger:"click",visible:s(n),"onUpdate:visible":l[2]||(l[2]=d=>S(n)?n.value=d:null),onVisibleChange:x},{overlay:r(()=>[g("div",P,[["date","time"].includes(a.component)?(o(),y(q,{key:0,type:a.component,onChange:K},null,8,["type"])):a.options.length?(o(),f(I,{key:1},[a.component==="select"?(o(),y(Z,{key:0,value:s(u),options:a.options,valueName:a.valueName,onClick:V},null,8,["value","options","valueName"])):(o(),f("div",Q,[_($,{expandedKeys:s(v),"onUpdate:expandedKeys":l[1]||(l[1]=d=>S(v)?v.value=d:null),selectedKeys:s(u)?[s(u)]:[],treeData:a.options,height:350,virtual:!0,onSelect:D},{title:r(({name:d,fullName:T,description:N})=>[_(j,null,{default:r(()=>[h(b(d||T)+" ",1),N?(o(),f("span",W,b(N),1)):w("",!0)]),_:2},1024)]),_:1},8,["expandedKeys","selectedKeys","treeData"])]))],64)):(o(),f("div",ee,[_(A)]))])]),default:r(()=>[g("div",{onClick:l[0]||(l[0]=L(d=>n.value=!0,["prevent"]))},[M(e.$slots,"default",{label:s(p)},()=>[g("div",{class:O(s(B))},[a.icon?(o(),y(i,{key:0,type:a.icon},null,8,["type"])):w("",!0),_(E,{style:{"max-width":"220px"}},{default:r(()=>[h(b(s(p)),1)]),_:1})],2)],!0)])]),_:3},8,["visible"])}}});export{ce as _};
