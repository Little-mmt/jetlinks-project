import{X as A,o as D,Z as E,e as I,a3 as j}from"./index-1730252110824.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import{a as F,r as V}from"./certificate-1730252110824.js";import{d as g,k as _,ab as a,U as l,V as y,X as t,_ as k,f as n,u as h,E as q,$ as N,Z as O,F as J,a1 as L}from"./vue-1730252110824.js";const M=g({name:"CertificatePage"}),W=g({...M,setup(R){const c=A(),p=_({}),d=_({}),u=[{title:"证书标准",dataIndex:"type",key:"type",fixed:"left",width:200,ellipsis:!0,search:{type:"select",options:[{label:"国际标准",value:"common"}]},scopedSlots:!0},{title:"证书名称",dataIndex:"name",key:"name",ellipsis:!0,search:{type:"string",first:!0}},{title:"说明",dataIndex:"description",key:"description",ellipsis:!0,search:{type:"string"}},{title:"操作",key:"action",fixed:"right",width:80,scopedSlots:!0}],C=e=>e?[{key:"update",text:"编辑",tooltip:{title:"编辑"},icon:"EditOutlined",onClick:async()=>{P(e.id)}},{key:"delete",text:"删除",tooltip:{title:"删除"},popConfirm:{title:"确认删除?",okText:" 确定",cancelText:"取消",onConfirm:async()=>b(e.id)},icon:"DeleteOutlined"}]:[],x=()=>{c.jumpPage("link/Certificate/Detail",{id:":id"},{view:!1})},P=e=>{c.jumpPage("link/Certificate/Detail",{id:e},{view:!1})},b=e=>{const s=V(e);return s.then(i=>{i.success&&(D("操作成功","success"),p.value.reload())}),s},v=e=>{d.value=e};return(e,s)=>{const i=a("pro-search"),m=a("AIcon"),f=E,S=I,B=j,T=a("FullPage"),w=a("page-container");return l(),y(w,null,{default:t(()=>[k("div",null,[n(i,{columns:u,target:"search-certificate",onSearch:v}),n(T,null,{default:t(()=>[n(B,{ref_key:"tableRef",ref:p,model:"TABLE",columns:u,request:h(F),defaultParams:{sorts:[{name:"createTime",order:"desc"}]},params:h(d)},{headerTitle:t(()=>[n(f,{type:"primary",onClick:x,hasPermission:"link/Certificate:add"},{icon:t(()=>[n(m,{type:"PlusOutlined"})]),default:t(()=>[q(" 新增 ")]),_:1})]),type:t(r=>[k("span",null,N(r.type.text),1)]),action:t(r=>[n(S,{size:16},{default:t(()=>[(l(!0),O(J,null,L(C(r),o=>(l(),y(f,{key:o.key,disabled:o.disabled,popConfirm:o.popConfirm,tooltip:{...o.tooltip},style:{padding:"0px"},onClick:o.onClick,type:"link",danger:o.key==="delete",hasPermission:"link/Certificate:"+o.key},{icon:t(()=>[n(m,{type:o.icon},null,8,["type"])]),_:2},1032,["disabled","popConfirm","tooltip","onClick","danger","hasPermission"]))),128))]),_:2},1024)]),_:1},8,["request","params"])]),_:1})])]),_:1})}}});export{W as default};
