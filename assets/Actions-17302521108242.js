import{g as $t,cC as Kt,cY as Mt}from"./index-1730252110824.js";import{ab as At,U as n,Z as i,F as r,a1 as jt,_ as o,f as p,u as d,$ as s,V as Et,X as y,E as e,B as Ot,Y as h,d as Ht,af as Wt,ag as Yt}from"./vue-1730252110824.js";import{i as Dt,a as _,t as x}from"./util-1730252110824.js";import Lt from"./Terms-1730252110824.js";import"./config-17302521108242.js";import"./util-17302521108242.js";import"./scene-1730252110824.js";import"./scene-17302521108242.js";import"./util-17302521108243.js";import"./WhenItem-1730252110824.js";import"./utils-17302521108243.js";const Ut=c=>(Wt("data-v-67fc6b47"),c=c(),Yt(),c),Rt={class:"actions-warp"},Xt={key:0,class:"actions-item"},Zt={class:"item-options-warp"},qt={class:"item-options-type"},zt={class:"item-options-content"},Gt={key:0},Jt=Ut(()=>o("span",{class:"notify-text-highlight"},"群机器人消息",-1)),Pt={class:"notify-text-highlight"},Qt={key:1},to={class:"notify-text-highlight"},oo=["src"],so={class:"notify-text-highlight"},eo={class:"notify-text-highlight"},no={class:"notify-text-highlight"},io={key:1},ao={class:"notify-text-highlight"},co=["src"],lo={class:"notify-text-highlight"},po={class:"notify-text-highlight"},ho={class:"notify-text-highlight"},yo={class:"notify-text-highlight"},ro={key:2,style:{display:"flex"}},_o={class:"notify-text-highlight"},fo=["src"],go={class:"notify-text-highlight"},uo={class:"notify-text-highlight"},xo={key:3},vo={class:"notify-text-highlight"},ko=["src"],No={class:"notify-text-highlight"},To={class:"notify-text-highlight"},wo={key:4},Io={class:"notify-text-highlight"},bo=["src"],mo={class:"notify-text-highlight"},Bo={class:"notify-text-highlight"},Vo={key:5},Co={class:"notify-text-highlight"},Ko=["src"],Ao={class:"notify-text-highlight"},Eo={key:0,style:{display:"flex","align-items":"center"}},Oo={style:{"padding-left":"4px"}},Uo={key:0},Fo={key:1},So={key:2},$o={key:1,class:"actions-item-filter-warp"},Mo=Ut(()=>o("div",{class:"actions-item-filter-warp-tip"}," 满足此条件后执行后续动作 ",-1)),jo={class:"actions-item-filter-overflow"},Ho=Ht({name:"Actions"}),Wo=Object.assign(Ho,{props:{actions:{type:Array,default:()=>[]},activeKeys:{type:Array,default:()=>[]},selectedKeys:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},serial:{type:Boolean,default:!1},showUnbindBtn:{type:Boolean,default:!1}},emits:["change","select"],setup(c,{emit:v}){const k=c,Ft=f=>{const g=k.selectedKeys.some(l=>l===f.actionId);v("change",f.actionId,!g)},St=f=>{const g=k.activeKeys.find(l=>l===f.actionId||l===-1);v("select",g,!1)};return(f,g)=>{const l=At("AIcon"),N=Mt,u=At("Ellipsis");return n(),i("div",Rt,[(n(!0),i(r,null,jt(c.actions,t=>{var T,w,I,b,m,B,V,C,K,A,E,O,U,F,S,$,M,j,H,W,Y,D,L,R,X,Z,q,z,G,J,P,Q,tt,ot,st,et,nt,it,at,ct,lt,pt,dt,ht,yt,rt,_t,ft,gt,ut,xt,vt,kt,Nt,Tt,wt,It,bt,mt,Bt;return n(),i("div",null,[t.executor==="alarm"||c.show?(n(),i("div",Xt,[o("div",Zt,[o("div",qt,[p(l,{type:d(Dt).get(t.executor==="alarm"?t.alarm.mode:t.executor)},null,8,["type"])]),o("div",zt,[t.executor==="alarm"?(n(),i(r,{key:0},[o("span",null," 满足条件后将"+s(t.alarm.mode==="trigger"?"触发":"解除")+"当前告警 ",1),c.showUnbindBtn?c.activeKeys.some(a=>a===t.actionId||a===-1)?(n(),Et(N,{key:1,type:"link",onClick:Ot(a=>St(t),["stop"])},{icon:y(()=>[p(l,{type:"icon-jiebang"})]),default:y(()=>[e(" 取消关联 ")]),_:2},1032,["onClick"])):h("",!0):(n(),Et(N,{key:0,type:"link",onClick:Ot(a=>Ft(t),["stop"]),disabled:c.activeKeys.some(a=>a===t.actionId)},{icon:y(()=>[p(l,{type:"icon-bangding"})]),default:y(()=>[e(" "+s(c.selectedKeys.some(a=>a===t.actionId)?"已关联":"关联"),1)]),_:2},1032,["onClick","disabled"]))],64)):h("",!0),t.executor==="notify"&&c.show?(n(),i(r,{key:1},[((T=t.notify)==null?void 0:T.notifyType)==="dingTalk"?(n(),i(r,{key:0},[t.options.provider==="dingTalkRobotWebHook"?(n(),i("div",Gt,[e(" 通过 "),Jt,e(" 发送 "),o("span",Pt,s((w=t.notify)==null?void 0:w.templateId),1)])):(n(),i("div",Qt,[e(" 通过 "),o("span",to,[o("img",{style:{width:"18px"},src:d(_).get((I=t.notify)==null?void 0:I.notifyType)},null,8,oo),e(" 钉钉 ")]),e(" "+s((b=t.options)!=null&&b.sendTo||(m=t.options)!=null&&m.orgName?"向":"")+" ",1),o("span",so,s(((B=t.options)==null?void 0:B.sendTo)||""),1),o("span",eo,s(((V=t.options)==null?void 0:V.orgName)||""),1),e(" 发送 "),o("span",no,s(((C=t.options)==null?void 0:C.templateName)||((K=t==null?void 0:t.notify)==null?void 0:K.templateId)),1)]))],64)):((A=t.notify)==null?void 0:A.notifyType)==="weixin"?(n(),i("div",io,[e(" 通过 "),o("span",ao,[o("img",{style:{width:"18px"},src:d(_).get((E=t.notify)==null?void 0:E.notifyType)},null,8,co),e(" 微信 ")]),e(" "+s(t.options.sendTo||t.options.orgName||t.options.tagName?"向":"")+" ",1),o("span",lo,s(t.options.sendTo||""),1),o("span",po,s(((O=t.options)==null?void 0:O.orgName)||""),1),o("span",ho,s(((U=t.options)==null?void 0:U.tagName)||""),1),e(" 发送 "),o("span",yo,s(((F=t.options)==null?void 0:F.templateName)||((S=t==null?void 0:t.notify)==null?void 0:S.templateId)),1)])):(($=t.notify)==null?void 0:$.notifyType)==="email"?(n(),i("div",ro,[e(" 通过 "),o("span",_o,[o("img",{style:{width:"18px"},src:d(_).get((M=t.notify)==null?void 0:M.notifyType)},null,8,fo),e(" 邮件 ")]),e(" "+s((j=t.options)!=null&&j.sendTo?"向":"")+" ",1),o("span",go,[p(u,{style:{"max-width":"400px"}},{default:y(()=>{var a;return[e(s(((a=t.options)==null?void 0:a.sendTo)||""),1)]}),_:2},1024)]),e(" 发送 "),o("span",uo,s(((H=t.options)==null?void 0:H.templateName)||((W=t.notify)==null?void 0:W.templateId)),1)])):((Y=t.notify)==null?void 0:Y.notifyType)==="voice"?(n(),i("div",xo,[e(" 通过 "),o("span",vo,[o("img",{style:{width:"18px"},src:d(_).get((D=t.notify)==null?void 0:D.notifyType)},null,8,ko),e(" 语音 ")]),e(" "+s((L=t.options)!=null&&L.sendTo?"向":"")+" ",1),o("span",No,s(((R=t.options)==null?void 0:R.sendTo)||""),1),e(" 发送 "),o("span",To,s(((X=t.options)==null?void 0:X.templateName)||((Z=t.notify)==null?void 0:Z.templateId)),1)])):((q=t.notify)==null?void 0:q.notifyType)==="sms"?(n(),i("div",wo,[e(" 通过 "),o("span",Io,[o("img",{style:{width:"18px"},src:d(_).get((z=t.notify)==null?void 0:z.notifyType)},null,8,bo),e(" 短信 ")]),e(" "+s((G=t.options)!=null&&G.sendTo?"向":"")+" ",1),o("span",mo,s(((J=t.options)==null?void 0:J.sendTo)||""),1),e(" 发送 "),o("span",Bo,s(((P=t.options)==null?void 0:P.templateName)||((Q=t.notify)==null?void 0:Q.templateId)),1)])):((tt=t.notify)==null?void 0:tt.notifyType)==="webhooks"?(n(),i("div",Vo,[e(" 通过 "),o("span",Co,[o("img",{style:{width:"18px"},src:d(_).get((ot=t.notify)==null?void 0:ot.notifyType)},null,8,Ko),e(" WebHook ")]),e(" 发送 "),o("span",Ao,s(((st=t.options)==null?void 0:st.templateName)||((et=t.notify)==null?void 0:et.templateId)),1)])):h("",!0)],64)):h("",!0),t.executor==="delay"&&c.show?(n(),i(r,{key:2},[e(s((nt=t.options)==null?void 0:nt.name),1)],64)):h("",!0),t.executor==="device"&&c.show?(n(),i(r,{key:3},[["fixed","context"].includes((it=t.device)==null?void 0:it.selector)?(n(),i("div",Eo,[p(l,{type:d(x)[((ct=(at=t.device)==null?void 0:at.message)==null?void 0:ct.messageType)||"INVOKE_FUNCTION"]},null,8,["type"]),o("span",Oo,s((lt=t.options)==null?void 0:lt.type),1),p(l,{type:"icon-mubiao",style:{padding:"0 4px"}}),p(u,{style:{"max-width":"120px","margin-right":"12px"}},{default:y(()=>{var a;return[e(s((a=t.options)==null?void 0:a.name),1)]}),_:2},1024),p(u,{style:{"max-width":"120px"}},{default:y(()=>{var a;return[e(s((a=t.options)==null?void 0:a.propertiesName),1)]}),_:2},1024),!d(Kt)((pt=t.options)==null?void 0:pt.propertiesValue)&&((dt=t.options)!=null&&dt.propertiesValue)?(n(),i("span",Uo,"为 ")):h("",!0),p(u,{style:{"max-width":"120px"}},{default:y(()=>{var a,Vt,Ct;return[e(s(`${d(Kt)((a=t.options)==null?void 0:a.propertiesValue)||(Vt=t.options)!=null&&Vt.propertiesValue?`${(Ct=t.options)==null?void 0:Ct.propertiesValue}`:""}`),1)]}),_:2},1024)])):((ht=t.device)==null?void 0:ht.selector)==="tag"?(n(),i("div",Fo,[p(l,{type:d(x)[((rt=(yt=t.device)==null?void 0:yt.message)==null?void 0:rt.messageType)||"INVOKE_FUNCTION"]},null,8,["type"]),e(" "+s((_t=t.options)==null?void 0:_t.type)+" ",1),o("span",null,s((ft=t.options)==null?void 0:ft.tagName),1),e(" 的"+s((gt=t.options)==null?void 0:gt.productName)+" "+s((ut=t.options)==null?void 0:ut.propertiesName),1)])):((xt=t.device)==null?void 0:xt.selector)==="relation"?(n(),i("div",So,[p(l,{type:d(x)[((kt=(vt=t.device)==null?void 0:vt.message)==null?void 0:kt.messageType)||"INVOKE_FUNCTION"]},null,8,["type"]),e(" "+s((Nt=t.options)==null?void 0:Nt.type)+" 与 ",1),o("span",null,s((Tt=t.options)==null?void 0:Tt.triggerName),1),e(" 具有相同 "+s((wt=t.options)==null?void 0:wt.relationName)+" 的"+s((It=t.options)==null?void 0:It.productName)+" 设备的 "+s((bt=t.options)==null?void 0:bt.propertiesName),1)])):h("",!0)],64)):h("",!0)])])])):h("",!0),c.serial&&((Bt=(mt=t.options)==null?void 0:mt.terms)!=null&&Bt.length)&&c.show?(n(),i("div",$o,[Mo,o("div",jo,[p(Lt,{when:t.options,border:!1,data:t.terms},null,8,["when","data"])])])):h("",!0)])}),256))])}}}),Qo=$t(Wo,[["__scopeId","data-v-67fc6b47"]]);export{Qo as default};
