import{dw as w,v as k,I as U,aT as g,F as j}from"./index-1730252110824.js";import"./index-1730252110824282.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import{d as C,r as B,k as E,s as R,U as s,Z as q,f as n,X as u,u as c,V as f}from"./vue-1730252110824.js";const F={class:"inputs"},z=C({__name:"EditTable",props:{modelValue:{type:Array,default:""}},emits:["update:modelValue"],setup(r,{expose:v,emit:y}){const b=r,x=[{title:"参数名称",dataIndex:"name",with:"33%"},{title:"类型",dataIndex:"valueType",with:"33%"},{title:"值",dataIndex:"value",with:"34%"}],a=B({dataSource:[]}),m=E();R(()=>{a.dataSource=b.modelValue||[]});const V=()=>{y("update:modelValue",a.dataSource)};return v({onSave:()=>new Promise((p,d)=>{m.value.validate().then(()=>{p([...a.dataSource])}).catch(()=>{d(!1)})})}),(p,d)=>{const h=w,i=k,I=U,S=g,T=j;return s(),q("div",F,[n(T,{ref_key:"formRef",ref:m,model:c(a)},{default:u(()=>[n(S,{rowKey:"id",columns:x,"data-source":c(a).dataSource,bordered:"",pagination:!1},{bodyCell:u(({column:t,record:e,index:_})=>[t.dataIndex==="value"?(s(),f(i,{key:0,name:["dataSource",_,"value"],rules:[{required:e.required,message:e.type==="enum"||e.type==="boolean"?"请选择":"请输入"}]},{default:u(()=>{var o;return[n(h,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,itemType:e.type||e.valueType,options:e.type==="enum"?(((o=e==null?void 0:e.dataType)==null?void 0:o.elements)||[]).map(l=>({label:l.text,value:l.value})):e.type==="boolean"||e.valueType==="boolean"?[{label:"是",value:!0},{label:"否",value:!1}]:void 0,onChange:V},null,8,["modelValue","onUpdate:modelValue","itemType","options"])]}),_:2},1032,["name","rules"])):(s(),f(i,{key:1,name:["dataSource",_,t.dataIndex]},{default:u(()=>[n(I,{readonly:"",bordered:!1,value:e[t.dataIndex],"onUpdate:value":o=>e[t.dataIndex]=o},null,8,["value","onUpdate:value"])]),_:2},1032,["name"]))]),_:1},8,["data-source"])]),_:1},8,["model"])])}}});export{z as _};
