import{F as b,o as C,cU as T,v as U,I as F,aa as M}from"./index-1731638920964.js";import"./index-1731638920964291.js";import{s as S}from"./config-1731638920964.js";import{d as V,k as q,r as B,s as I,U as m,V as p,X as u,f as r,u as t,Y as x}from"./vue-1731638920964.js";const E=V({__name:"input",props:{data:{default:""}},emits:["closeModel","saveSuc"],setup(y,{emit:_}){const o=y;b.useForm;const k=q();let e=B({status:!1,address:"",topic:""});I(()=>{var l,a,n,c,d,i,f,s,v,g,h;e.status=((n=(a=(l=o.data)==null?void 0:l.data)==null?void 0:a.state)==null?void 0:n.value)==="enabled",e.address=(f=(i=(d=(c=o.data)==null?void 0:c.data)==null?void 0:d.config)==null?void 0:i.config)==null?void 0:f.address,e.topic=(h=(g=(v=(s=o.data)==null?void 0:s.data)==null?void 0:v.config)==null?void 0:g.config)==null?void 0:h.topic});const w=()=>{_("closeModel")},j=()=>{k.value.validateFields().then(()=>{var l,a;S({config:{sourceType:"kafka",config:{...e,state:e!=null&&e.status?"enabled":"disable"}},state:e!=null&&e.status?"enabled":"disable",id:(a=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:a.id,sourceType:"kafka",exchangeType:"consume"}).then(n=>{n.status===200&&(C("操作成功"),_("saveSuc"))})})};return(l,a)=>{const n=T,c=U,d=F,i=b,f=M;return m(),p(f,{maskClosable:!1,width:"45vw",title:"编辑",onCancel:w,onOk:j,visible:"",cancelText:"取消",okText:"确定"},{default:u(()=>[r(i,{layout:"vertical",model:t(e),ref_key:"formRef",ref:k},{default:u(()=>[r(c,{label:"状态"},{default:u(()=>[r(n,{"checked-children":"启用","un-checked-children":"启用",checked:t(e).status,"onUpdate:checked":a[0]||(a[0]=s=>t(e).status=s)},null,8,["checked"])]),_:1}),t(e).status?(m(),p(c,{key:0,label:"kafka地址",name:"address",rules:[{required:!0,message:"请输入topic"},{max:64,message:"最多输入64个字符"}]},{default:u(()=>[r(d,{value:t(e).address,"onUpdate:value":a[1]||(a[1]=s=>t(e).address=s),placeholder:"请输入kafka地址"},null,8,["value"])]),_:1})):x("",!0),t(e).status?(m(),p(c,{key:1,label:"topic",name:"topic",rules:[{required:!0,message:"请输入topic"},{max:64,message:"最多输入64个字符"}]},{default:u(()=>[r(d,{value:t(e).topic,"onUpdate:value":a[2]||(a[2]=s=>t(e).topic=s)},null,8,["value"])]),_:1})):x("",!0)]),_:1},8,["model"])]),_:1})}}});export{E as _};
