import{ay as n,o as i,I as R,v as b,a9 as j,F as q,aa as S}from"./index-1731638920964.js";import{d as L,k as d,U as $,V as B,X as p,_ as O,f as c,u as o}from"./vue-1731638920964.js";const N=e=>n.post("/rule-engine/instance/_query",e),U=e=>n.post("/rule-editor/flows/_create",e),V=(e,s)=>n.put(`/rule-engine/instance/${e}`,s),T=e=>n.post(`/rule-engine/instance/${e}/_start`),J=e=>n.post(`/rule-engine/instance/${e}/_stop`),X=e=>n.remove(`/rule-engine/instance/${e}`),F={style:{"margin-top":"10px"}},z=L({__name:"index",props:{data:{type:Object}},emits:["success","closeSave"],setup(e,{emit:s}){const m=e;d([]);const u=d(!1),f=d(),a=d();a.value={...m.data};const x={name:[{required:!0,message:"请输入名称"},{max:64,message:"最多输入64个字符"}]},y=()=>{s("closeSave")},h=()=>{f.value.validate().then(async()=>{var l,t;if(u.value=!0,(l=a.value)!=null&&l.id){let r=await V((t=a.value)==null?void 0:t.id,a.value);u.value=!1,r.status===200?(i("操作成功！"),s("closeSave"),s("success")):i("操作失败！","error")}else{let r=await U(a.value);u.value=!1,r.status===200?(i("操作成功！"),s("closeSave"),s("success")):i("操作失败","error")}}).catch(l=>{console.log("error",l)})};return(l,t)=>{var g;const r=R,v=b,k=j,w=q,C=S;return $(),B(C,{maskClosable:!1,width:"650px",destroyOnClose:"",visible:"",title:(g=m.data)!=null&&g.id?"编辑":"新增",onOk:h,onCancel:y,okText:"确定",cancelText:"取消",confirmLoading:o(u)},{default:p(()=>[O("div",F,[c(w,{layout:"vertical",ref_key:"formRef",ref:f,rules:x,model:o(a)},{default:p(()=>[c(v,{label:"名称",name:"name"},{default:p(()=>[c(r,{value:o(a).name,"onUpdate:value":t[0]||(t[0]=_=>o(a).name=_),placeholder:"请输入名称"},null,8,["value"])]),_:1}),c(v,{label:"说明",name:"describe"},{default:p(()=>[c(k,{value:o(a).description,"onUpdate:value":t[1]||(t[1]=_=>o(a).description=_),placeholder:"请输入说明",showCount:"",maxlength:200,rows:4},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["title","confirmLoading"])}}});export{z as _,J as a,X as d,N as q,T as s};
