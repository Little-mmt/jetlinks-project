import{g as T,Z as V,af as q}from"./index-1731638920964.js";import{e as A}from"./alicloud-1731638920964.js";import{k as x,w as L,ab as k,U as n,Z as d,f as p,X as m,E as w,_ as u,u as _,F as D,a1 as O,a4 as S,$ as b,a0 as j,V as z}from"./vue-1731638920964.js";const F={class:"listContainer"},Z=["onClick"],J={class:"itemText"},U={__name:"index",props:{params:{type:Object}},emits:["viewData"],setup(C,{expose:B,emit:r}){const c=C,s=x(),t=x(),v=async(e=!1)=>{const f=c.params?{paging:!1,sorts:[{name:"createTime",order:"desc"}],...c.params}:{paging:!1,sorts:[{name:"createTime",order:"desc"}]},o=await A(f);o.success&&(s.value=o.result,s.value.length?l(e?s.value.find(i=>t.value=i.id):s.value[0]):(t.value="",r("viewData",{type:"noData"})))},l=e=>{t.value=e.id,r("viewData",e)},I=()=>{t.value="",r("viewData",{type:"add"})},P=e=>{v(e)};return L(()=>c.params,()=>{v()},{deep:!0,immediate:!0}),B({refresh:P}),(e,f)=>{var y;const o=k("AIcon"),i=V,E=k("Ellipsis"),N=q;return n(),d(D,null,[p(i,{type:"primary",onClick:I,block:"",ghost:"",hasPermission:"Northbound/DuerOS:add"},{icon:m(()=>[p(o,{type:"PlusOutlined"})]),default:m(()=>[w(" 新增 ")]),_:1}),u("div",F,[(y=_(s))!=null&&y.length?(n(!0),d(D,{key:0},O(_(s),a=>{var h,g;return n(),d("div",{class:S(["listItem",{selected:a.id===_(t)}]),onClick:()=>l(a)},[u("div",J,[p(E,{style:{width:"100%"}},{default:m(()=>[w(b(a.name),1)]),_:2},1024)]),u("div",{class:"status",style:j({color:((h=a.state)==null?void 0:h.value)==="disabled"?"red":"#70b603"})},b(((g=a.state)==null?void 0:g.value)==="disabled"?"禁用":"启用"),5)],10,Z)}),256)):(n(),z(N,{key:1,style:{"margin-top":"200px"}}))])],64)}}},H=T(U,[["__scopeId","data-v-3345fd59"]]);export{H as default};
