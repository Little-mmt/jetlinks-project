import{u as x,i as k,a as B,U as M,b as T,c as R,o as D,J as H,d as P,e as A,_ as J,f as L,g as O}from"./index-1730252110824.js";import F from"./index-173025211082437.js";import z from"./index-173025211082433.js";import X from"./index-173025211082441.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-1730252110824.js";import Z from"./index-173025211082434.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-17302521108242.js";import G from"./index-173025211082436.js";import Q from"./index-173025211082442.js";import{u as W}from"./useParams-1730252110824.js";import ee from"./index-173025211082438.js";import{d as E,r as te,k as y,s as oe,o as se,b as ae,U as n,Z as C,_ as a,f as i,u as t,X as r,E as _,$ as ne,V as m,Y as c,F as ie,a1 as re,a5 as me}from"./vue-1730252110824.js";import"./home-1730252110824.js";import"./index-1730252110824275.js";import"./index-1730252110824276.js";import"./notificationSubscription-1730252110824.js";import"./data-1730252110824.js";import"./Item-1730252110824.js";import"./index-1730252110824277.js";import"./Unsubscribe-1730252110824.js";import"./Bind-1730252110824.js";import"./Wechat.vue_vue_type_script_setup_true_lang-1730252110824.js";import"./Card-17302521108242.js";import"./Detail-1730252110824.js";import"./index-173025211082439.js";import"./index-1730252110824278.js";import"./index-1730252110824279.js";import"./index-1730252110824280.js";import"./index-1730252110824281.js";import"./index-1730252110824282.js";import"./index-1730252110824283.js";import"./ViewDialog-1730252110824.js";import"./index-1730252110824284.js";import"./index-1730252110824285.js";import"./config-1730252110824.js";import"./index-1730252110824286.js";const le={class:"person"},pe={class:"person-header"},_e={class:"person-header-item"},ce={class:"person-header-item-info"},de={class:"person-header-item-info-left"},ue={class:"person-header-item-info-right"},fe={class:"person-header-item-info-right-top"},ve={class:"person-header-item-info-right-info"},ye={class:"person-header-item-action"},ge={class:"person-content"},be={class:"person-content-item"},he={class:"person-content-item-content"},ke=E({name:"Center"}),Ce=E({...ke,setup(Ee){const d=te(["image/jpeg","image/png","image/jpg","image/jfif","image/pjp","image/pjpeg"]),o=x();console.log(k);const S=k?[{key:"HomeView",title:"首页视图"},{key:"BindThirdAccount",title:"绑定第三方账号"},{key:"Subscribe",title:"我的订阅"},{key:"StationMessage",title:"站内信"}]:[{key:"HomeView",title:"首页视图"},{key:"Subscribe",title:"我的订阅"},{key:"StationMessage",title:"站内信"}],U={HomeView:F,BindThirdAccount:z,Subscribe:X,StationMessage:Y},g=W(),u=y(!1),p=y(!1),f=y(!1),V=B().hasPermission(`${M}:${T}`),I=()=>{o.getUserInfo(),p.value=!1},K=l=>{R({...o.userInfos,avatar:l}).then(e=>{e.status===200&&(D("操作成功","success"),o.getUserInfo())})};return oe(()=>{var l,e;(l=g.params.value)!=null&&l.tabKey&&(o.tabKey=(e=g.params.value)==null?void 0:e.tabKey)}),se(()=>{o.getUserInfo()}),ae(()=>{o.tabKey="HomeView",o.other.tabKey=""}),(l,e)=>{var b,h;const $=H,v=P,j=A,N=J,w=L;return n(),C("div",le,[a("div",pe,[a("div",_e,[a("div",ce,[a("div",de,[i(Q,{accept:t(d)&&t(d).length?t(d).toString():"",modelValue:(b=t(o).userInfos)==null?void 0:b.avatar,onChange:K},null,8,["accept","modelValue"])]),a("div",ue,[a("div",fe,[i($,null,{default:r(()=>{var s;return[_(" Hi, "+ne((s=t(o).userInfos)==null?void 0:s.name),1)]}),_:1})]),a("div",ve,[i(ee,{value:((h=t(o).userInfos)==null?void 0:h.roleList)||[]},null,8,["value"])])])]),a("div",ye,[i(j,{size:24},{default:r(()=>[i(v,{class:"btn",onClick:e[0]||(e[0]=s=>u.value=!0)},{default:r(()=>[_("查看详情")]),_:1}),i(v,{onClick:e[1]||(e[1]=s=>p.value=!0)},{default:r(()=>[_("编辑资料")]),_:1}),t(V)?(n(),m(v,{key:0,onClick:e[2]||(e[2]=s=>f.value=!0)},{default:r(()=>[_(" 修改密码 ")]),_:1})):c("",!0)]),_:1})])])]),a("div",ge,[a("div",be,[a("div",he,[i(w,{activeKey:t(o).tabKey,"onUpdate:activeKey":e[3]||(e[3]=s=>t(o).tabKey=s),type:"card"},{default:r(()=>[(n(!0),C(ie,null,re(t(S),s=>(n(),m(N,{key:s.key,tab:s.title},null,8,["tab"]))),128))]),_:1},8,["activeKey"]),(n(),m(me(U[t(o).tabKey])))])])]),t(u)?(n(),m(Z,{key:0,onClose:e[4]||(e[4]=s=>u.value=!1)})):c("",!0),t(p)?(n(),m(q,{key:1,data:t(o).userInfos,onClose:e[5]||(e[5]=s=>p.value=!1),onSave:I},null,8,["data"])):c("",!0),t(f)?(n(),m(G,{key:2,onClose:e[6]||(e[6]=s=>f.value=!1)})):c("",!0)])}}});const it=O(Ce,[["__scopeId","data-v-202ca0a9"]]);export{it as default};
