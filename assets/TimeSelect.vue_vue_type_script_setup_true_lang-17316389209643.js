import{au as e,aJ as b,aK as O,dr as h}from"./index-1731638920964.js";import"./index-1731638920964279.js";import{d as w,k as c,w as B,U as r,Z as f,V as i,X as v,F as D,a1 as H,E as C,$ as M,u as y,G as p,Y as T,f as V}from"./vue-1731638920964.js";const L=w({__name:"TimeSelect",props:{quickBtn:{type:Boolean,default:!0},quickBtnList:{type:Array,default:[{label:"今日",value:"today"},{label:"近一周",value:"week"},{label:"近一月",value:"month"},{label:"近一年",value:"year"}]},type:{type:String,default:"today"}},emits:["change"],setup(o,{emit:d}){const n=c(o.type||"week"),l=c(),g=a=>{n.value=void 0,d("change",{start:e(a[0]).valueOf(),end:e(a[1]).valueOf(),type:void 0})},_=a=>{switch(a){case"hour":return e().subtract(1,"hours").valueOf();case"week":return e().subtract(6,"days").valueOf();case"month":return e().subtract(29,"days").valueOf();case"year":return e().subtract(365,"days").valueOf();case"day":return e().subtract(24,"hours").valueOf();default:return e().startOf("day").valueOf()}},m=a=>{n.value=a;let t=e(new Date).valueOf(),s=_(a);a==="yesterday"&&(s=e().subtract(1,"days").startOf("day").valueOf(),t=e().subtract(1,"days").endOf("day").valueOf()),l.value=[e(s).format("YYYY-MM-DD HH:mm:ss"),e(t).format("YYYY-MM-DD HH:mm:ss")],d("change",{start:s,end:t,type:a})};return m(n.value),B(()=>n.value,{deep:!0,immediate:!0}),(a,t)=>{const s=b,Y=O,k=h;return r(),f("div",null,[o.quickBtn?(r(),i(Y,{key:0,"default-value":"today","button-style":"solid",value:y(n),"onUpdate:value":t[0]||(t[0]=u=>p(n)?n.value=u:null),onChange:t[1]||(t[1]=u=>m(u.target.value))},{default:v(()=>[(r(!0),f(D,null,H(o.quickBtnList,u=>(r(),i(s,{key:u.value,value:u.value},{default:v(()=>[C(M(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):T("",!0),V(k,{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss",style:{"margin-left":"12px"},onChange:g,value:y(l),"onUpdate:value":t[2]||(t[2]=u=>p(l)?l.value=u:null),allowClear:!1},null,8,["value"])])}}});export{L as _};
