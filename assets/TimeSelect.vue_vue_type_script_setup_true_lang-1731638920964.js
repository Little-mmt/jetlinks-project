import{au as e,aJ as O,aK as b,dr as h}from"./index-1731638920964.js";import"./index-1731638920964279.js";import{d as B,k as m,U as r,Z as f,V as i,X as v,F as D,a1 as H,E as w,$ as C,u as y,G as p,Y as M,f as T}from"./vue-1731638920964.js";const F=B({__name:"TimeSelect",props:{quickBtn:{type:Boolean,default:!0},quickBtnList:{type:Array,default:[{label:"今日",value:"today"},{label:"近一周",value:"week"},{label:"近一月",value:"month"},{label:"近一年",value:"year"}]},type:{type:String,default:"today"}},emits:["change"],setup(o,{emit:d}){const n=m(o.type||"week"),l=m(),g=a=>{n.value=void 0,d("change",{start:e(a[0]).valueOf(),end:e(a[1]).valueOf(),type:void 0})},_=a=>{switch(a){case"hour":return e().subtract(1,"hours").valueOf();case"week":return e().subtract(6,"days").startOf("day").valueOf();case"month":return e().subtract(29,"days").valueOf();case"year":return e().subtract(365,"days").valueOf();case"day":return e().subtract(24,"hours").valueOf();default:return e().startOf("day").valueOf()}},c=a=>{n.value=a;let t=e(new Date).valueOf(),s=_(a);a==="today"&&(s=e().subtract(0,"days").startOf("day").valueOf(),t=e().subtract(0,"days").endOf("day").valueOf()),l.value=[e(s).format("YYYY-MM-DD HH:mm:ss"),e(t).format("YYYY-MM-DD HH:mm:ss")],d("change",{start:s,end:t,type:a})};return c(n.value),(a,t)=>{const s=O,Y=b,k=h;return r(),f("div",null,[o.quickBtn?(r(),i(Y,{key:0,"default-value":"today","button-style":"solid",value:y(n),"onUpdate:value":t[0]||(t[0]=u=>p(n)?n.value=u:null),onChange:t[1]||(t[1]=u=>c(u.target.value))},{default:v(()=>[(r(!0),f(D,null,H(o.quickBtnList,u=>(r(),i(s,{key:u.value,value:u.value},{default:v(()=>[w(C(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):M("",!0),T(k,{format:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss",style:{"margin-left":"12px"},"show-time":{format:"HH:mm:ss"},onChange:g,value:y(l),"onUpdate:value":t[2]||(t[2]=u=>p(l)?l.value=u:null),allowClear:!1},null,8,["value"])])}}});export{F as _};
