import{d as E,ac as j,k as y,o as A,ab as B,U as s,V as u,X as b,f as C,u as e,Z as x,_ as M,Y as F,F as L}from"./vue-1731638920964.js";import{aI as G,A as R,g as U}from"./index-1731638920964.js";import"./index-1731638920964288.js";import W from"./index-1731638920964138.js";import X from"./index-1731638920964140.js";import Y from"./index-1731638920964137.js";import Z from"./index-1731638920964134.js";import $ from"./index-1731638920964136.js";import z from"./geteway-1731638920964.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_name_AccessCloud_lang-1731638920964.js";import J from"./index-1731638920964139.js";import{b as O,d as K}from"./accessConfig-1731638920964.js";import{a as T}from"./setting-17316389209642.js";import{l as Q}from"./product-17316389209644.js";import"./index-1731638920964282.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964286.js";import"./data-17316389209646.js";import"./index-1731638920964133.js";import"./GB28181-1731638920964.js";import"./index-1731638920964284.js";import"./index-1731638920964306.js";import"./index-1731638920964276.js";import"./validate-1731638920964.js";import"./regular-1731638920964.js";import"./Onvif-1731638920964.js";import"./Ctwing-1731638920964.js";import"./index-1731638920964298.js";import"./OneNet-1731638920964.js";import"./index-1731638920964283.js";import"./rules-1731638920964.js";const ee={key:0},te={key:0,class:"go-back"},oe=E({name:"AccessConfigDetail"}),ae=E({...oe,setup(de){const h=j(),v=h.params.id,k=y([]),_=y(!1),w=y(!0),r=y({}),p=y({}),g=y(""),f=y(!1),N=i=>{g.value=i.type,r.value=i,_.value=!1},V=()=>{r.value={},_.value=!0},P=new Map([["fixed-media","media"],["gb28181-2016","media"],["onvif","media"],["media-plugin","media"],["OneNet-platform","cloud"],["Ctwing","cloud"],["modbus-tcp","channel"],["opc-ua","channel"],["official-edge-gateway","edge"],["edge-child-device","edge"],["network","network"]]),l=new Map;l.set("fixed-media",{type:"media",title:"视频类设备接入"}),l.set("gb28181-2016",{type:"media",title:"视频类设备接入"}),l.set("onvif",{type:"media",title:"视频类设备接入"}),l.set("media-plugin",{type:"media",title:"视频类设备接入"}),l.set("OneNet-platform",{type:"cloud",title:"云平台接入"}),l.set("Ctwing",{type:"cloud",title:"云平台接入"}),l.set("modbus-tcp",{type:"channel",title:"通道类设备接入"}),l.set("opc-ua",{type:"channel",title:"通道类设备接入"}),l.set("official-edge-gateway",{type:"edge",title:"官方接入"}),l.set("edge-child-device",{type:"edge",title:"官方接入"}),l.set("network",{type:"network",title:"自定义设备接入"});const q=i=>{const a=[],n=[],o=[],c=[],d=[],m=[];return i.filter(t=>t.id!=="OneNet").forEach(t=>{t.id==="fixed-media"||t.id==="gb28181-2016"||t.id==="onvif"||t.id==="media-plugin"?(t.type="media",n.push(t)):t.id==="Ctwing"||t.id==="OneNet-platform"?(t.type="cloud",c.push(t)):t.id==="modbus-tcp"||t.id==="opc-ua"||t.id==="collector-gateway"?(t.type="channel",t.id==="collector-gateway"&&d.push(t)):t.id==="official-edge-gateway"||t.id==="edge-child-device"?(t.type="edge",m.push(t)):(t.type="network",o.push(t))}),o.length&&a.push({list:[...o],title:"自定义设备接入"}),n.length&&a.push({list:[...n],title:"视频类设备接入"}),c.length&&a.push({list:[...c],title:"云平台接入"}),d.length&&a.push({list:[...d],title:"通道类设备接入"}),m.length&&a.push({list:[...m],title:"官方接入"}),a},D=async()=>{var a,n,o;const i=await O();if(i.status===200){const c=i.result||[];if(k.value=q(T(c)),h.query.save&&((a=h.query)!=null&&a.type)){const d=h.query.type;N((o=(n=k.value.find(m=>m.title===l.get(d).title))==null?void 0:n.list)==null?void 0:o.find(m=>m.id===d))}}},I=async i=>{var n,o;const a=await Q({paging:!1,terms:[{column:"accessId",termType:"eq",value:i}]});console.log(a.success&&((n=a.result)==null?void 0:n.total)),a.success&&((o=a.result)!=null&&o.total)&&(f.value=!0)},S=async()=>{v!==":id"?(I(v),O().then(i=>{if(i.status===200){const a=i.result||[],n=q(T(a));k.value=n.filter(o=>o.channel==="network"||o.channel==="child-device"),K(v).then(o=>{if(o.status===200){const c=i.result.find(d=>(d==null?void 0:d.id)===o.result.provider);i.result.forEach(d=>{d.id===o.result.provider&&(o.result.type=P.has(d.id)?P.get(d.id):P.get("network"),g.value=o.result.type)}),r.value=c,p.value=o.result,_.value=!1}})}w.value=!1})):(_.value=!0,D(),w.value=!1)};return A(()=>{w.value=!0,S()}),(i,a)=>{const n=G,o=B("FullPage"),c=R,d=B("page-container");return s(),u(d,null,{default:b(()=>[C(c,{spinning:e(w)},{default:b(()=>[e(_)&&e(v)===":id"?(s(),x("div",ee,[C(X,{onOnClick:N,dataSource:e(k)},null,8,["dataSource"])])):(s(),u(o,{key:1},{default:b(()=>[C(n,{bordered:!1},{default:b(()=>[M("div",null,[e(v)===":id"?(s(),x("div",te,[M("a",{onClick:V},"返回")])):F("",!0),e(g)==="network"?(s(),x(L,{key:1},[e(r).id==="plugin_gateway"?(s(),u(J,{key:0,bindProduct:e(f),data:e(p),provider:e(r)},null,8,["bindProduct","data","provider"])):e(r).id==="collector-gateway"?(s(),u(z,{key:1,bindProduct:e(f),data:e(p),provider:e(r)},null,8,["bindProduct","data","provider"])):(s(),u(W,{key:2,bindProduct:e(f),data:e(p),provider:e(r)},null,8,["bindProduct","data","provider"]))],64)):e(g)==="media"?(s(),u(Y,{key:2,bindProduct:e(f),provider:e(r),data:e(p)},null,8,["bindProduct","provider","data"])):e(g)==="channel"?(s(),u(Z,{key:3,bindProduct:e(f),provider:e(r),data:e(p)},null,8,["bindProduct","provider","data"])):e(g)==="edge"?(s(),u($,{key:4,bindProduct:e(f),provider:e(r),data:e(p)},null,8,["bindProduct","provider","data"])):e(g)==="cloud"?(s(),u(H,{key:5,bindProduct:e(f),provider:e(r),data:e(p)},null,8,["bindProduct","provider","data"])):F("",!0)])]),_:1})]),_:1}))]),_:1},8,["spinning"])]),_:1})}}});const je=U(ae,[["__scopeId","data-v-89f4d5f6"]]);export{je as default};
