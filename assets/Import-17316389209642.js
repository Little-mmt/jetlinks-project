import{a6 as j,v as N,aJ as q,aK as B,F as U,d as h,aa as w,g as J}from"./index-1731638920964.js";import"./index-1731638920964279.js";import{c as L}from"./cardManagement-1731638920964.js";import{_ as R}from"./UploadFile.vue_vue_type_script_setup_true_lang-1731638920964.js";import{d as F,k as f,r as P,U as _,V as r,X as a,f as n,E as c,_ as E,u as o,Y as m}from"./vue-1731638920964.js";const K={style:{"margin-top":"10px"}},M=F({__name:"Import",emits:["close","save"],setup(O,{emit:d}){const u=f([]),v=f(null),e=P({configId:void 0,upload:[],fileType:"xlsx"}),g={configId:[{required:!0,message:"请选择平台对接"}]},y=async()=>{const p=await L({paging:!1,terms:[{terms:[{column:"state",termType:"eq",value:"enabled",type:"and"}]}]});u.value=p.result.map(t=>({key:t.id,label:t.name,value:t.id}))},x=()=>{e.configId=void 0,d("close",!0)},b=()=>{e.configId=void 0,d("save",!0)};return y(),(p,t)=>{const I=j,s=N,i=q,k=B,C=U,T=h,V=w;return _(),r(V,{maskClosable:!1,visible:!0,title:"导入",okText:"确定",cancelText:"取消",onCancel:x},{footer:a(()=>[n(T,{type:"primary",onClick:b},{default:a(()=>[c("关闭")]),_:1})]),default:a(()=>[E("div",K,[n(C,{layout:"vertical",model:o(e),ref_key:"formRef",ref:v,rules:g},{default:a(()=>[n(s,{label:"平台对接",required:"",name:"configId"},{default:a(()=>[n(I,{showSearch:"",value:o(e).configId,"onUpdate:value":t[0]||(t[0]=l=>o(e).configId=l),options:o(u),placeholder:"请选择平台对接"},null,8,["value","options"])]),_:1}),o(e).configId?(_(),r(s,{key:0,label:"文件格式"},{default:a(()=>[n(k,{"button-style":"solid",value:o(e).fileType,"onUpdate:value":t[1]||(t[1]=l=>o(e).fileType=l),placeholder:"请选择文件格式"},{default:a(()=>[n(i,{value:"xlsx"},{default:a(()=>[c("xlsx")]),_:1}),n(i,{value:"csv"},{default:a(()=>[c("csv")]),_:1})]),_:1},8,["value"])]),_:1})):m("",!0),o(e).configId?(_(),r(s,{key:1,label:"文件上传"},{default:a(()=>[n(R,{product:o(e).configId,modelValue:o(e).upload,"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).upload=l),file:o(e).fileType},null,8,["product","modelValue","file"])]),_:1})):m("",!0)]),_:1},8,["model"])])]),_:1})}}});const A=J(M,[["__scopeId","data-v-4e18bfcb"]]);export{A as default};
