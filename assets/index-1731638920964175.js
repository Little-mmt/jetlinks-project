import{X as P,a as T,o as v,a0 as U,a1 as j,ac as B,ds as I,e as J,a3 as N,aa as R}from"./index-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import V from"./BootCard-1731638920964.js";import q from"./PlatformPicCard-1731638920964.js";import A from"./StepCard-1731638920964.js";import E from"./BasicCountCard-17316389209642.js";import{d as M}from"./device-17316389209643.js";import{d as K,k as m,ab as L,U as O,V as X,X as a,f as e,u as l,G as $,_ as G,$ as z}from"./vue-1731638920964.js";import"./home-17316389209643.js";const de=K({__name:"index",setup(F){const _=P(),r=T().hasPermission,f=[{english:"STEP1",label:"添加视频设备",link:"media/Device/Save",auth:r("media/Device:add")},{english:"STEP2",label:"分屏展示",link:"media/SplitScreen"},{english:"STEP3",label:"国标级联",link:"media/Cascade"}],h=[{title:"添加视频设备",details:"根据视频设备的传输协议，在已创建的产品下添加对应的设备。",iconUrl:"/images/home/bottom-6.png",linkUrl:"media/Device/Save",auth:r("media/Device:add")},{title:"查看通道",details:"查看设备下的通道数据，可以进行直播、录制等操作。",iconUrl:"/images/home/bottom-7.png",linkUrl:"",auth:r("media/Device:view"),onClick:s=>{r("media/Device:view")?n.value=!0:v("暂无权限，请联系管理员","warning")}},{title:"分屏展示",details:"对多个通道的视频流数据进行分屏展示。",iconUrl:"/images/home/bottom-8.png",linkUrl:"media/SplitScreen"}],n=m(!1),p=[{title:"ID",dataIndex:"id",key:"id",ellipsis:!0,search:{type:"string",defaultTermType:"eq"}},{title:"名称",dataIndex:"name",key:"name",ellipsis:!0,search:{type:"string",first:!0}},{title:"通道数量",dataIndex:"channelNumber",key:"channelNumber",width:100,scopedSlots:!0},{title:"状态",dataIndex:"state",key:"state",scopedSlots:!0,search:{type:"select",options:[{label:"在线",value:"online"},{label:"离线",value:"offline"},{label:"禁用",value:"notActive"}],handleValue:s=>s},width:80}],u=m({}),b=s=>{u.value=s},t=m(),S=()=>{t.value&&t.value.id?_.jumpPage("media/Device/Channel",{},{id:t.value.id,type:t.value.provider}):v("请选择设备","warning")};return(s,d)=>{const c=U,g=j,y=B,k=I,C=J,w=N,x=R,D=L("page-container");return O(),X(D,null,{default:a(()=>[e(g,{gutter:24},{default:a(()=>[e(c,{span:14},{default:a(()=>[e(V,{cardData:f,cardTitle:"视频中心引导"})]),_:1}),e(c,{span:10},{default:a(()=>[e(E)]),_:1}),e(c,{span:24,style:{margin:"20px 0"}},{default:a(()=>[e(q)]),_:1}),e(c,{span:24},{default:a(()=>[e(A,{cardTitle:"设备接入推荐步骤",tooltip:"不同的设备因为通信协议的不同，存在接入步骤的差异",dataList:h})]),_:1})]),_:1}),e(x,{title:"选择设备",width:"850px",visible:l(n),"onUpdate:visible":d[0]||(d[0]=i=>$(n)?n.value=i:null),maskClosable:!1,destroyOnClose:!0,onCancel:d[1]||(d[1]=i=>n.value=!1),onOk:S},{default:a(()=>{var i;return[e(y,{type:"simple",columns:p,onSearch:b}),e(w,{ref:"tableRef",model:"table",rowKey:"id",columns:p,request:l(M).list,defaultParams:{sorts:[{name:"createTime",order:"desc"}]},params:l(u),rowSelection:{type:"radio",selectedRowKeys:(i=l(t))!=null&&i.id?[l(t).id]:void 0,onSelect:o=>{t.value=o}},alertRender:!1},{channelNumber:a(o=>[G("span",null,z(o.channelNumber||0),1)]),state:a(o=>[e(C,null,{default:a(()=>[e(k,{status:o.state.value==="online"?"success":"error",text:o.state.text},null,8,["status","text"])]),_:2},1024)]),_:1},8,["request","params","rowSelection"])]}),_:1},8,["visible"])]),_:1})}}});export{de as default};
