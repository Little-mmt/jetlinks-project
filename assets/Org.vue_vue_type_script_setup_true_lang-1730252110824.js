import{fz as v}from"./index-1730252110824.js";import{C as o}from"./config-17302521108242.js";import{d as _,k as u,w as r,U as g,V as y,u as i,G as h}from"./vue-1730252110824.js";const T=_({__name:"Org",props:{notify:{type:Object,default:()=>{}},value:{type:Array,default:()=>[]}},emits:["update:value","change"],setup(p,{emit:l}){const a=p,s=u([]),n=u([]),f=async t=>{if(a.notify.notifyType==="dingTalk"){const e=await o.dingTalkDept(t);e.status===200&&(s.value=e.result)}else{const e=await o.weChatDept(t);e.status===200&&(s.value=e.result)}};r(()=>a.value,()=>{n.value=(a==null?void 0:a.value)||[]},{deep:!0,immediate:!0}),r(()=>a.notify.notifierId,t=>{t&&f(t)},{deep:!0,immediate:!0});const c=(t,e)=>{l("update:value",{source:"fixed",value:t}),l("change",e)};return(t,e)=>{const d=v;return g(),y(d,{listHeight:200,value:i(n),"onUpdate:value":e[0]||(e[0]=m=>h(n)?n.value=m:null),placeholder:"请选择组织","tree-data":i(s),onChange:c,allowClear:"",fieldNames:{label:"name",value:"id"}},null,8,["value","tree-data"])}}});export{T as _};
