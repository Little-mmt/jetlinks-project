import{o as _,a9 as w,v as x,F as C,aa as T}from"./index-1730252110824.js";import{h as S,b as k}from"./log-17302521108243.js";import{d as j,k as p,r as L,o as I,U as M,V as O,X as i,f as m,u as r}from"./vue-1730252110824.js";const F=j({__name:"index",props:{data:{type:Object},solveType:{type:String,default:"handle"},handleDes:{type:String,default:""},goal:{type:String,default:""}},emits:["closeSolve","refresh"],setup(f,{emit:d}){const e=f,n=p(!1),u=p(),v={describe:[{required:!0,message:"请输入处理结果"}]},a=L({describe:""}),g=()=>{d("closeSolve")},h=()=>{if(e.solveType==="view"){d("closeSolve");return}n.value=!0,u.value.validate().then(async()=>{var s,t,l;const o={describe:a.describe,type:"user",state:"normal",alarmRecordId:((s=e.data)==null?void 0:s.id)||"",alarmConfigId:((t=e.data)==null?void 0:t.alarmConfigId)||"",alarmTime:((l=e==null?void 0:e.data)==null?void 0:l.alarmTime)||""};(e.goal?await S(o):await k(o)).status===200?(_("操作成功！"),d("refresh")):_("操作失败！","error"),n.value=!1}).catch(o=>{console.log(o),n.value=!1})};return I(()=>{e.solveType==="view"&&(a.describe=e.handleDes)}),(o,c)=>{const s=w,t=x,l=C,b=T;return M(),O(b,{title:"告警处理",okText:"确定",cancelText:"取消",visible:"",onCancel:g,onOk:h,destroyOnClose:"",confirmLoading:r(n)},{default:i(()=>[m(l,{rules:v,layout:"vertical",ref_key:"formRef",ref:u,model:r(a)},{default:i(()=>[m(t,{label:"处理结果",name:"describe"},{default:i(()=>[m(s,{disabled:f.solveType==="view",rows:8,maxlength:200,showCount:"",placeholder:"请输入处理结果",value:r(a).describe,"onUpdate:value":c[0]||(c[0]=y=>r(a).describe=y)},null,8,["disabled","value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["confirmLoading"])}}});export{F as _};
