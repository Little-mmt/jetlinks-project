import{a6 as f}from"./index-1731638920964.js";import{T as _}from"./template-1731638920964.js";import{d as m,e as g,k as v,w as U,U as w,V as h,u as r,G as y}from"./vue-1731638920964.js";const x=m({__name:"ToUser",props:{toUser:{},type:{},configId:{}},emits:["update:toUser","update:canSave"],setup(p,{emit:o}){const a=p,s=g({get:()=>a.toUser,set:e=>o("update:toUser",e)}),l={weixin:"wechat",dingTalk:"dingtalk"},n=v([]),c=async()=>{if(!a.configId)return;const e=await _.getUser(l[a.type],a.configId).catch(()=>{o("update:canSave",!1)});e.status===200&&(n.value=e==null?void 0:e.result.map(t=>({label:t.name,value:t.id})),o("update:canSave",!0))};c();const u=e=>{o("update:toUser",e)};return U(()=>a.configId,()=>{c()}),(e,t)=>{const i=f;return w(),h(i,{options:r(n),onChange:u,placeholder:"请选择收信人",style:{width:"100%"},allowClear:!0,value:r(s),"onUpdate:value":t[0]||(t[0]=d=>y(s)?s.value=d:null)},null,8,["options","value"])}}});export{x as _};
