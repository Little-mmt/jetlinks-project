import{h as t}from"./index-1730252110824.js";const y={and:"并且",or:"或者"},f=new Map;f.set("manual",{text:"手动触发",img:t("/scene/scene-hand.png"),icon:t("/scene/trigger-type-icon/manual.png"),tip:"适用于第三方平台向物联网平台下发指令控制设备"});f.set("timer",{text:"定时触发",img:t("/scene/scene-timer.png"),icon:t("/scene/trigger-type-icon/timing.png"),tip:"适用于定期执行固定任务"});f.set("device",{text:"设备触发",img:t("/scene/scene-device.png"),icon:t("/scene/trigger-type-icon/device.png"),tip:"适用于设备数据或行为满足触发条件时，执行指定的动作"});const I=(i,h)=>{const n=[];return i?(i.forEach((e,p)=>{var a,s,c,r,o;h&&(e.whenOptions=h.find(g=>(e==null?void 0:e.branchId)===g.key)),(p===0||e.executeAnyway)&&n.push({branchName:e.branchName||((a=e.whenOptions)==null?void 0:a.branchName)||`条件${n.length+1}`,key:e.key||e.branchId,children:[]});const l=n[n.length-1];(s=e.then[0])!=null&&s.actions.length&&(e.serial=(c=e.then[0])==null?void 0:c.actions),(r=e.then[1])!=null&&r.actions.length&&(e.parallel=(o=e.then[1])==null?void 0:o.actions),l.children.push(e)}),n):[]},b=(i,h)=>{const n=[],e=new Set(h);let p=!1;return i.forEach(l=>{let a=!1;l.children.forEach(s=>{var c,r,o;p=(c=s.serial)==null?void 0:c.some(g=>!g.actionId),a===!1&&((r=s.serial)!=null&&r.some(d=>e.has(d.actionId))||(o=s.parallel)!=null&&o.some(d=>e.has(d.actionId)))&&(a=!0)}),a&&n.push(l.branchName)}),{data:n,invalid:p}};export{y as T,b as a,I as h,f as t};
