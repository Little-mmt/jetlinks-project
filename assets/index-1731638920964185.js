import{g as L,cW as T,cX as X,Z,e as G,a3 as M,af as O,a4 as W}from"./index-1731638920964.js";import"./index-1731638920964278.js";import"./index-1731638920964279.js";import"./index-1731638920964280.js";import"./index-1731638920964281.js";import"./index-1731638920964282.js";import"./index-1731638920964283.js";import"./index-1731638920964292.js";import"./index-1731638920964293.js";import Y from"./index-1731638920964158.js";import H from"./index-1731638920964186.js";import{i as K}from"./auto-1731638920964.js";import{k as i,w as Q,ab as v,U as s,V as y,X as n,f as o,_ as u,u as l,G as B,Z as h,F as z,a1 as N,E as P,$ as V,Y as ee,af as te,ag as ae}from"./vue-1731638920964.js";import"./cascade-1731638920964.js";import"./Preview-1731638920964.js";const w=m=>(te("data-v-d6fa99a6"),m=m(),ae(),m),ne={class:"bound"},oe={class:"bound_device"},se=w(()=>u("div",null,"选择设备及目录查看通道：",-1)),le={key:0,class:"bound_channel"},ce={style:{padding:"12px 24px 0",display:"flex"}},ie=w(()=>u("div",{class:"catalogue"},"当前目录：",-1)),re={key:1,class:"bound_channel_empty"},de={__name:"index",setup(m){const I=i(),g=i(!1),b=i(),c=i(),r=i(),x=i(),k=i(),S=[{title:"ID",dataIndex:"channelId",key:"channelId",ellipsis:!0,search:{type:"string"}},{title:"通道名称",dataIndex:"name",key:"name",ellipsis:!0,search:{type:"string",first:!0}},{title:"厂商",dataIndex:"manufacturer",key:"manufacturer",ellipsis:!0},{title:"安装地址",dataIndex:"address",ellipsis:!0,key:"address",search:{type:"string"}},{title:"已拍数量",dataIndex:"fileCount"},{title:"存储空间",scopedSlots:!0,key:"fileSize",dataIndex:"fileSize"},{title:"操作",key:"action",width:100,scopedSlots:!0}],F=t=>{b.value=t},R=(t,e)=>t?[{key:"picture",text:"查看",tooltip:{title:"查看"},icon:"EyeOutlined",onClick:()=>{I.value=W(t),I.value.pathsName=k.value,g.value=!0}}]:[],D=t=>{var _,f;const e=t,d={terms:[]};return c.value&&((_=d.terms)==null||_.push({column:"deviceId",value:c.value,type:"and"})),r.value&&((f=d.terms)==null||f.push({column:"channelId",value:r.value,type:"or"})),e.terms=[...d.terms,...e.terms],K("screenshot",e)},E=({node:t})=>{const{channelCatalog:e}=t;k.value=e};return Q(()=>[c.value,r.value],()=>{var t;(t=x.value)==null||t.reload()},{deep:!0}),(t,e)=>{const d=T,_=X,f=v("pro-search"),j=v("AIcon"),q=Z,A=G,J=M,C=v("FullPage"),U=O,$=v("page-container");return s(),y($,null,{default:n(()=>[o(C,null,{default:n(()=>[u("div",ne,[u("div",oe,[se,o(Y,{height:700,type:"unbind",deviceId:l(c),"onUpdate:deviceId":e[0]||(e[0]=a=>B(c)?c.value=a:null),channelId:l(r),"onUpdate:channelId":e[1]||(e[1]=a=>B(r)?r.value=a:null),onSelect:E},null,8,["deviceId","channelId"])]),l(c)?(s(),h("div",le,[u("div",ce,[ie,o(_,null,{default:n(()=>[(s(!0),h(z,null,N(l(k),a=>(s(),y(d,null,{default:n(()=>[P(V(a),1)]),_:2},1024))),256))]),_:1})]),o(f,{columns:S,onSearch:F,params:l(b),target:"timing-capture-record",style:{"padding-bottom":"0","margin-bottom":"0"}},null,8,["params"]),o(C,null,{default:n(()=>[o(J,{style:{"min-height":"calc(100% - 60px)"},ref_key:"tableRef",ref:x,columns:S,model:"table",params:l(b),request:D},{fileSize:n(a=>[P(V(a.fileSize?(a.fileSize/1024/1024).toFixed(2):0)+"M ",1)]),action:n(a=>[o(A,{size:16},{default:n(()=>[(s(!0),h(z,null,N(R(a,"table"),p=>(s(),y(q,{key:p.key,disabled:p.disabled,popConfirm:p.popConfirm,type:"link",style:{padding:"0px"},tooltip:{...p.tooltip},onClick:p.onClick},{default:n(()=>[o(j,{type:p.icon},null,8,["type"])]),_:2},1032,["disabled","popConfirm","tooltip","onClick"]))),128))]),_:2},1024)]),_:1},8,["params"])]),_:1})])):(s(),h("div",re,[o(U)]))]),l(g)?(s(),y(H,{key:0,data:l(I),onClose:e[2]||(e[2]=a=>g.value=!1)},null,8,["data"])):ee("",!0)]),_:1})]),_:1})}}},Be=L(de,[["__scopeId","data-v-d6fa99a6"]]);export{Be as default};
